var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(e,t,n,r){if(e){const i=l(e,t,n,r);return e[0](i)}}function l(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function s(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}function c(e,t,n,r,i,a){if(i){const o=l(t,n,r,a);e.p(o,i)}}function u(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function p(e,t){e.appendChild(t)}function h(e,t,n){e.insertBefore(t,n||null)}function d(e){e.parentNode.removeChild(e)}function f(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function m(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function v(e){return document.createTextNode(e)}function g(){return v(" ")}function b(){return v("")}function w(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function x(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function E(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function T(e,t){e.value=null==t?"":t}function _(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function k(e,t,n){e.classList[n?"add":"remove"](t)}let M;function L(e){M=e}function S(){if(!M)throw new Error("Function called outside component initialization");return M}function O(e){S().$$.on_mount.push(e)}function A(){const e=S();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const i=function(e,t,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,!1,t),r}(t,n);r.slice().forEach(t=>{t.call(e,i)})}}}const $=[],P=[],I=[],C=[],N=Promise.resolve();let R=!1;function D(e){I.push(e)}const U=new Set;let q=0;function j(){const e=M;do{for(;q<$.length;){const e=$[q];q++,L(e),F(e.$$)}for(L(null),$.length=0,q=0;P.length;)P.pop()();for(let e=0;e<I.length;e+=1){const t=I[e];U.has(t)||(U.add(t),t())}I.length=0}while($.length);for(;C.length;)C.pop()();R=!1,U.clear(),L(e)}function F(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(D)}}const z=new Set;let B;function G(){B={r:0,c:[],p:B}}function H(){B.r||r(B.c),B=B.p}function Y(e,t){e&&e.i&&(z.delete(e),e.i(t))}function V(e,t,n,r){if(e&&e.o){if(z.has(e))return;z.add(e),B.c.push(()=>{z.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function X(e){e&&e.c()}function W(e,n,a,o){const{fragment:l,on_mount:s,on_destroy:c,after_update:u}=e.$$;l&&l.m(n,a),o||D(()=>{const n=s.map(t).filter(i);c?c.push(...n):r(n),e.$$.on_mount=[]}),u.forEach(D)}function Z(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function K(e,t){-1===e.$$.dirty[0]&&($.push(e),R||(R=!0,N.then(j)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function J(t,i,a,o,l,s,c,u=[-1]){const p=M;L(t);const h=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(p?p.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:i.target||p.$$.root};c&&c(h.root);let f=!1;if(h.ctx=a?a(t,i.props||{},(e,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&l(h.ctx[e],h.ctx[e]=i)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](i),f&&K(t,e)),n}):[],h.update(),f=!0,r(h.before_update),h.fragment=!!o&&o(h.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);h.fragment&&h.fragment.l(e),e.forEach(d)}else h.fragment&&h.fragment.c();i.intro&&Y(t.$$.fragment),W(t,i.target,i.anchor,i.customElement),j()}L(p)}class Q{$destroy(){Z(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var ee="https://suisei-podcast.outv.im/meta.json";function te(){return window.timelines||(window.timelines=document.querySelector("timelines")),window.timelines}function ne(e){return Number(e.replace("px",""))}function re(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}function ie(e){let t,n,r;const i=e[2].default,a=o(i,e,e[1],null);return{c(){t=y("div"),n=y("div"),a&&a.c(),x(t,"class","portal-clone svelte-5q0n58")},m(i,o){h(i,t,o),p(t,n),a&&a.m(n,null),e[3](n),r=!0},p(e,[t]){a&&a.p&&(!r||2&t)&&c(a,i,e,e[1],r?s(i,e[1],t,null):u(e[1]),null)},i(e){r||(Y(a,e),r=!0)},o(e){V(a,e),r=!1},d(n){n&&d(t),a&&a.d(n),e[3](null)}}}function ae(e,t,n){let r,i,{$$slots:a={},$$scope:o}=t;var l;return O(async()=>{i=document.createElement("div"),i.className="portal",te().appendChild(i),i.appendChild(r)}),l=()=>{te().removeChild(i)},S().$$.on_destroy.push(l),e.$$set=e=>{"$$scope"in e&&n(1,o=e.$$scope)},[r,o,a,function(e){P[e?"unshift":"push"](()=>{r=e,n(0,r)})}]}re(".portal-clone.svelte-5q0n58{display:none}");class oe extends Q{constructor(e){super(),J(this,e,ae,ie,a,{})}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function le(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var se={exports:{}};se.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",a="minute",o="hour",l="day",s="week",c="month",u="quarter",p="year",h="date",d="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},g={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),a=n-i<0,o=t.clone().add(r+(a?-1:1),c);return+(-(r+(n-i)/(a?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:p,w:s,d:l,D:h,h:o,m:a,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",w={};w[b]=m;var x=function(e){return e instanceof k},E=function(e,t,n){var r;if(!e)return b;if("string"==typeof e)w[e]&&(r=e),t&&(w[e]=t,r=e);else{var i=e.name;w[i]=e,r=i}return!n&&r&&(b=r),r||!n&&b},T=function(e,t){if(x(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new k(n)},_=g;_.l=E,_.i=x,_.w=function(e,t){return T(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function m(e){this.$L=E(e.locale,null,!0),this.parse(e)}var v=m.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(_.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return _},v.isValid=function(){return!(this.$d.toString()===d)},v.isSame=function(e,t){var n=T(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return T(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<T(e)},v.$g=function(e,t,n){return _.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!_.u(t)||t,u=_.p(e),d=function(e,t){var i=_.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(l)},f=function(e,t){return _.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},y=this.$W,m=this.$M,v=this.$D,g="set"+(this.$u?"UTC":"");switch(u){case p:return r?d(1,0):d(31,11);case c:return r?d(1,m):d(0,m+1);case s:var b=this.$locale().weekStart||0,w=(y<b?y+7:y)-b;return d(r?v-w:v+(6-w),m);case l:case h:return f(g+"Hours",0);case o:return f(g+"Minutes",1);case a:return f(g+"Seconds",2);case i:return f(g+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,s=_.p(e),u="set"+(this.$u?"UTC":""),d=(n={},n[l]=u+"Date",n[h]=u+"Date",n[c]=u+"Month",n[p]=u+"FullYear",n[o]=u+"Hours",n[a]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[s],f=s===l?this.$D+(t-this.$W):t;if(s===c||s===p){var y=this.clone().set(h,1);y.$d[d](f),y.init(),this.$d=y.set(h,Math.min(this.$D,y.daysInMonth())).$d}else d&&this.$d[d](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[_.p(e)]()},v.add=function(r,u){var h,d=this;r=Number(r);var f=_.p(u),y=function(e){var t=T(d);return _.w(t.date(t.date()+Math.round(e*r)),d)};if(f===c)return this.set(c,this.$M+r);if(f===p)return this.set(p,this.$y+r);if(f===l)return y(1);if(f===s)return y(7);var m=(h={},h[a]=t,h[o]=n,h[i]=e,h)[f]||1,v=this.$d.getTime()+r*m;return _.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=_.z(this),a=this.$H,o=this.$m,l=this.$M,s=n.weekdays,c=n.months,u=function(e,n,i,a){return e&&(e[n]||e(t,r))||i[n].substr(0,a)},p=function(e){return _.s(a%12||12,e,"0")},h=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:l+1,MM:_.s(l+1,2,"0"),MMM:u(n.monthsShort,l,c,3),MMMM:u(c,l),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,s,2),ddd:u(n.weekdaysShort,this.$W,s,3),dddd:s[this.$W],H:String(a),HH:_.s(a,2,"0"),h:p(1),hh:p(2),a:h(a,o,!0),A:h(a,o,!1),m:String(o),mm:_.s(o,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:i};return r.replace(y,(function(e,t){return t||f[e]||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,h,d){var f,y=_.p(h),m=T(r),v=(m.utcOffset()-this.utcOffset())*t,g=this-m,b=_.m(this,m);return b=(f={},f[p]=b/12,f[c]=b,f[u]=b/3,f[s]=(g-v)/6048e5,f[l]=(g-v)/864e5,f[o]=g/n,f[a]=g/t,f[i]=g/e,f)[y]||g,d?b:_.a(b)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return w[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=E(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return _.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},m}(),M=k.prototype;return T.prototype=M,[["$ms",r],["$s",i],["$m",a],["$H",o],["$W",l],["$M",c],["$y",p],["$D",h]].forEach((function(e){M[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),T.extend=function(e,t){return e.$i||(e(t,k,T),e.$i=!0),T},T.locale=E,T.isDayjs=x,T.unix=function(e){return T(1e3*e)},T.en=w[b],T.Ls=w,T.p={},T}();var ce=se.exports;function ue(t){let n,i,a,o,l,s,c,u,f,m,b,T,M,L,S,O=ce(t[0].datetime).format("YYYY/MM/DD HH:mm:ss")+"",A=t[0].performer+"";return{c(){n=y("div"),i=y("p"),a=v("Date: "),o=v(O),l=g(),s=y("p"),c=v("Performed by: "),u=v(A),f=g(),m=y("div"),b=y("div"),b.textContent="Add",T=g(),M=y("div"),M.textContent="Close",x(b,"class","btn svelte-xabn4f"),x(M,"class","btn svelte-xabn4f"),x(m,"class","btns svelte-xabn4f"),x(n,"class","page svelte-xabn4f"),_(n,"left",t[3]+"px"),_(n,"top",t[2]+"px"),k(n,"lb",t[4]),k(n,"rt",t[5])},m(e,r){h(e,n,r),p(n,i),p(i,a),p(i,o),p(n,l),p(n,s),p(s,c),p(s,u),p(n,f),p(n,m),p(m,b),p(m,T),p(m,M),t[16](n),L||(S=[w(b,"click",t[7]),w(M,"click",t[11]),w(n,"mouseout",t[12]),w(n,"blur",t[13]),w(n,"mouseover",t[14]),w(n,"focus",t[15])],L=!0)},p(e,[t]){1&t&&O!==(O=ce(e[0].datetime).format("YYYY/MM/DD HH:mm:ss")+"")&&E(o,O),1&t&&A!==(A=e[0].performer+"")&&E(u,A),8&t&&_(n,"left",e[3]+"px"),4&t&&_(n,"top",e[2]+"px"),16&t&&k(n,"lb",e[4]),32&t&&k(n,"rt",e[5])},i:e,o:e,d(e){e&&d(n),t[16](null),L=!1,r(S)}}}function pe(e,t,n){let r,{soundIndex:i}=t,{revIndex:a}=t,{sound:o}=t,{parentScroller:l}=t;const s=A();let c=0,u=0,p=!1,h=!1;function d(e){return getComputedStyle(r).getPropertyValue("--"+e.replace("$",""))}O(()=>{!function(){n(4,p=n(5,h=!1));const e=ne(d("$header-height")),t=ne(d("$timeline-height")),o=ne(d("$timeline-block-width")),s=r.getBoundingClientRect().height,f=r.getBoundingClientRect().width,y=ne(d("$title-block-width")),m=window.innerHeight-e,v=l.parentElement.getBoundingClientRect().width,g=l.getBoundingClientRect().x,b=e-te().getBoundingClientRect().y;let w=(i+.5)*t+10,x=(a+.5)*o+g+10;x+f-y>v&&(x-=f+20,n(5,h=!0)),w+s-b>m&&(w-=s+20,n(4,p=!0)),n(2,c=w),n(3,u=x)}()});return e.$$set=e=>{"soundIndex"in e&&n(8,i=e.soundIndex),"revIndex"in e&&n(9,a=e.revIndex),"sound"in e&&n(0,o=e.sound),"parentScroller"in e&&n(10,l=e.parentScroller)},[o,r,c,u,p,h,s,function(){const e=new CustomEvent("player",{detail:o});window.dispatchEvent(e)},i,a,l,e=>s("close",{force:!0}),e=>{s("close")},e=>{s("close")},e=>{s("keep")},e=>{s("keep")},function(e){P[e?"unshift":"push"](()=>{r=e,n(1,r)})}]}re('.page.svelte-xabn4f{background:#1f8ece;border-radius:20px;box-sizing:border-box;color:white;padding:8px;position:absolute;z-index:3;--header-height:50px;--timeline-height:130px;--timeline-block-width:200px;--icon-height:20px;--line-height:4px;--title-block-width:200px}.page.svelte-xabn4f::after{background:#9cc8d9;content:"";height:10px;left:0;position:absolute;top:0;width:10px}.page.rt.svelte-xabn4f::after{left:unset;right:0}.page.lb.svelte-xabn4f::after{bottom:0;top:unset}.btns.svelte-xabn4f{display:flex}.btn.svelte-xabn4f{background:#60a8e2;cursor:pointer;flex-grow:1;margin:10px 10px;padding:15px;text-align:center}');class he extends Q{constructor(e){super(),J(this,e,pe,ue,a,{soundIndex:8,revIndex:9,sound:0,parentScroller:10})}}function de(e){let t,n;return t=new he({props:{soundIndex:e[1],revIndex:e[2],sound:e[0],parentScroller:e[3]}}),t.$on("keep",e[14]),t.$on("close",e[15]),{c(){X(t.$$.fragment)},m(e,r){W(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.soundIndex=e[1]),4&n&&(r.revIndex=e[2]),1&n&&(r.sound=e[0]),8&n&&(r.parentScroller=e[3]),t.$set(r)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){V(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function fe(e){let t,n,r=e[5]&&de(e);return{c(){r&&r.c(),t=b()},m(e,i){r&&r.m(e,i),h(e,t,i),n=!0},p(e,n){e[5]?r?(r.p(e,n),32&n&&Y(r,1)):(r=de(e),r.c(),Y(r,1),r.m(t.parentNode,t)):r&&(G(),V(r,1,1,()=>{r=null}),H())},i(e){n||(Y(r),n=!0)},o(e){V(r),n=!1},d(e){r&&r.d(e),e&&d(t)}}}function ye(e){let t,n,i,a,o,l,s,c;return o=new oe({props:{$$slots:{default:[fe]},$$scope:{ctx:e}}}),{c(){t=y("div"),n=m("svg"),i=m("path"),a=g(),X(o.$$.fragment),x(i,"d","M 2,8 8,2 14,8 8,14 Z"),x(i,"class","svelte-13ciplv"),x(n,"class","svgIcon svelte-13ciplv"),x(n,"viewBox","0 0 16 16"),x(t,"class","timelineItem svelte-13ciplv")},m(r,u){h(r,t,u),p(t,n),p(n,i),p(t,a),W(o,t,null),l=!0,s||(c=[w(n,"mouseout",e[9]),w(n,"blur",e[10]),w(n,"mouseover",e[11]),w(n,"focus",e[12]),w(n,"click",e[13])],s=!0)},p(e,[t]){const n={};131119&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n)},i(e){l||(Y(o.$$.fragment,e),l=!0)},o(e){V(o.$$.fragment,e),l=!1},d(e){e&&d(t),Z(o),s=!1,r(c)}}}function me(e,t,n){let r,i,{sound:a}=t,{soundIndex:o}=t,{revIndex:l}=t,{parentScroller:s}=t,c=!1,u=!1;function p(){n(8,c=i=!0)}function h(e=!1){e?n(8,c=n(4,u=!1)):(i=!1,setTimeout(()=>{i||n(8,c=!1)},200))}return e.$$set=e=>{"sound"in e&&n(0,a=e.sound),"soundIndex"in e&&n(1,o=e.soundIndex),"revIndex"in e&&n(2,l=e.revIndex),"parentScroller"in e&&n(3,s=e.parentScroller)},e.$$.update=()=>{272&e.$$.dirty&&n(5,r=c||u)},[a,o,l,s,u,r,p,h,c,e=>h(),e=>h(),e=>p(),e=>p(),e=>n(4,u=!0),e=>p(),e=>h(e?.detail?.force)]}re(".timelineItem.svelte-13ciplv.svelte-13ciplv{width:200px}.svgIcon.svelte-13ciplv.svelte-13ciplv{display:block;height:20px;margin-bottom:auto;margin-left:auto;margin-right:auto;margin-top:55px;position:relative;width:20px;z-index:2}.svgIcon.svelte-13ciplv path.svelte-13ciplv{fill:#a3cdf5;fill-opacity:1;stroke:#000;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-width:0.19}");class ve extends Q{constructor(e){super(),J(this,e,me,ye,a,{sound:0,soundIndex:1,revIndex:2,parentScroller:3})}}function ge(e){let t,n;const r=e[4].default,i=o(r,e,e[3],null);return{c(){t=y("div"),i&&i.c(),x(t,"class","notation svelte-yrhk2n"),_(t,"left",e[1]+"px")},m(r,a){h(r,t,a),i&&i.m(t,null),e[5](t),n=!0},p(e,[a]){i&&i.p&&(!n||8&a)&&c(i,r,e,e[3],n?s(r,e[3],a,null):u(e[3]),null),(!n||2&a)&&_(t,"left",e[1]+"px")},i(e){n||(Y(i,e),n=!0)},o(e){V(i,e),n=!1},d(n){n&&d(t),i&&i.d(n),e[5](null)}}}function be(e,t,n){let r,{$$slots:i={},$$scope:a}=t,{rowIndex:o}=t,l=0;return O(()=>{const e=(t=r,e=>getComputedStyle(t).getPropertyValue("--"+e.replace("$","")));var t;n(1,l=o*ne(e("$timeline-block-width")))}),e.$$set=e=>{"rowIndex"in e&&n(2,o=e.rowIndex),"$$scope"in e&&n(3,a=e.$$scope)},[r,l,o,a,i,function(e){P[e?"unshift":"push"](()=>{r=e,n(0,r)})}]}re(".notation.svelte-yrhk2n{color:#fff8;font-size:0.9rem;margin-left:32px;margin-top:10px;position:absolute;--timeline-block-width:200px}");class we extends Q{constructor(e){super(),J(this,e,be,ge,a,{rowIndex:2})}}function xe(e,t,n){const r=e.slice();return r[7]=t[n],r[9]=n,r}function Ee(e){let t,n;return t=new we({props:{rowIndex:e[9],$$slots:{default:[_e]},$$scope:{ctx:e}}}),{c(){X(t.$$.fragment)},m(e,r){W(t,e,r),n=!0},p(e,n){const r={};1025&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){V(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function Te(e){let t,n,r=e[5](e[0][e[9]])!==e[5](e[0][e[9]-1]),i=r&&ke(e);return{c(){i&&i.c(),t=b()},m(e,r){i&&i.m(e,r),h(e,t,r),n=!0},p(e,n){1&n&&(r=e[5](e[0][e[9]])!==e[5](e[0][e[9]-1])),r?i?(i.p(e,n),1&n&&Y(i,1)):(i=ke(e),i.c(),Y(i,1),i.m(t.parentNode,t)):i&&(G(),V(i,1,1,()=>{i=null}),H())},i(e){n||(Y(i),n=!0)},o(e){V(i),n=!1},d(e){i&&i.d(e),e&&d(t)}}}function _e(e){let t,n,r=e[5](e[0][e[9]])+"";return{c(){t=v(r),n=g()},m(e,r){h(e,t,r),h(e,n,r)},p(e,n){1&n&&r!==(r=e[5](e[0][e[9]])+"")&&E(t,r)},d(e){e&&d(t),e&&d(n)}}}function ke(e){let t,n;return t=new we({props:{rowIndex:e[9],$$slots:{default:[Me]},$$scope:{ctx:e}}}),{c(){X(t.$$.fragment)},m(e,r){W(t,e,r),n=!0},p(e,n){const r={};1025&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){V(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function Me(e){let t,n,r=e[5](e[0][e[9]])+"";return{c(){t=v(r),n=g()},m(e,r){h(e,t,r),h(e,n,r)},p(e,n){1&n&&r!==(r=e[5](e[0][e[9]])+"")&&E(t,r)},d(e){e&&d(t),e&&d(n)}}}function Le(e){let t,n,r,i,a,o;t=new ve({props:{soundIndex:e[2],revIndex:e[9],sound:e[7],parentScroller:e[3]}});const l=[Te,Ee],s=[];return r=function(e,t){return e[9]>0?0:1}(e),i=s[r]=l[r](e),{c(){X(t.$$.fragment),n=g(),i.c(),a=b()},m(e,i){W(t,e,i),h(e,n,i),s[r].m(e,i),h(e,a,i),o=!0},p(e,n){const r={};4&n&&(r.soundIndex=e[2]),1&n&&(r.sound=e[7]),8&n&&(r.parentScroller=e[3]),t.$set(r),i.p(e,n)},i(e){o||(Y(t.$$.fragment,e),Y(i),o=!0)},o(e){V(t.$$.fragment,e),V(i),o=!1},d(e){Z(t,e),e&&d(n),s[r].d(e),e&&d(a)}}}function Se(e){let t,n,r,i,a,o,l,s,c,u,m,b,w,T,_,k=e[0][0].artist+"",M=e[0],L=[];for(let t=0;t<M.length;t+=1)L[t]=Le(xe(e,M,t));const S=e=>V(L[e],1,1,()=>{L[e]=null});return{c(){t=y("div"),n=y("h2"),r=y("div"),i=v(e[1]),a=g(),o=y("small"),l=v(k),s=g(),c=y("small"),u=v("Since "),m=v(e[4]),b=g(),w=y("div"),T=y("div");for(let e=0;e<L.length;e+=1)L[e].c();x(r,"class","name"),x(o,"class","sub svelte-pvqxz0"),x(c,"class","sub svelte-pvqxz0"),x(n,"class","title svelte-pvqxz0"),x(T,"class","timelineBody svelte-pvqxz0"),x(w,"class","timelineBodyContainer svelte-pvqxz0"),x(t,"class","timeline svelte-pvqxz0")},m(d,f){h(d,t,f),p(t,n),p(n,r),p(r,i),p(n,a),p(n,o),p(o,l),p(n,s),p(n,c),p(c,u),p(c,m),p(t,b),p(t,w),p(w,T);for(let e=0;e<L.length;e+=1)L[e].m(T,null);e[6](T),_=!0},p(e,[t]){if((!_||2&t)&&E(i,e[1]),(!_||1&t)&&k!==(k=e[0][0].artist+"")&&E(l,k),(!_||16&t)&&E(m,e[4]),45&t){let n;for(M=e[0],n=0;n<M.length;n+=1){const r=xe(e,M,n);L[n]?(L[n].p(r,t),Y(L[n],1)):(L[n]=Le(r),L[n].c(),Y(L[n],1),L[n].m(T,null))}for(G(),n=M.length;n<L.length;n+=1)S(n);H()}},i(e){if(!_){for(let e=0;e<M.length;e+=1)Y(L[e]);_=!0}},o(e){L=L.filter(Boolean);for(let e=0;e<L.length;e+=1)V(L[e]);_=!1},d(n){n&&d(t),f(L,n),e[6](null)}}}function Oe(e,t,n){let r,i,{sounds:a}=t,{title:o}=t,{index:l}=t;return e.$$set=e=>{"sounds"in e&&n(0,a=e.sounds),"title"in e&&n(1,o=e.title),"index"in e&&n(2,l=e.index)},e.$$.update=()=>{1&e.$$.dirty&&n(4,r=ce(a[0].datetime).format("YYYY/MM/DD"))},[a,o,l,i,r,function(e){return ce(e.datetime).format("YYYY/MM")},function(e){P[e?"unshift":"push"](()=>{i=e,n(3,i)})}]}re('.timeline.svelte-pvqxz0.svelte-pvqxz0{background:#126b91;display:flex;height:130px}.title.svelte-pvqxz0.svelte-pvqxz0{align-items:center;background:#1686b6;box-sizing:border-box;color:white;display:flex;flex-direction:column;flex-shrink:0;font-size:1.3rem;justify-content:center;left:0;margin:0;overflow:hidden auto;padding:12px 6px 6px;position:sticky;text-align:center;width:200px;z-index:5}.title.svelte-pvqxz0 .sub.svelte-pvqxz0{color:#ccc}.timelineBodyContainer.svelte-pvqxz0.svelte-pvqxz0{display:flex;overflow:auto hidden;width:calc(100vw - 200px)}.timelineBody.svelte-pvqxz0.svelte-pvqxz0{display:flex;position:relative}.timelineBody.svelte-pvqxz0.svelte-pvqxz0::after{background-color:#a1a2a7;content:"";height:4px;left:100px;position:absolute;right:100px;top:63px}');class Ae extends Q{constructor(e){super(),J(this,e,Oe,Se,a,{sounds:0,title:1,index:2})}}var $e={exports:{}};!function(e,t){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=41)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=/mobile/i.test(window.navigator.userAgent),i={secondToTime:function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),r=Math.floor(e-3600*t-60*n);return(t>0?[t,n,r]:[n,r]).map((function(e){return e<10?"0"+e:""+e})).join(":")},getElementViewLeft:function(e){var t=e.offsetLeft,n=e.offsetParent,r=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==n&&n!==e;)t+=n.offsetLeft,n=n.offsetParent;else for(;null!==n;)t+=n.offsetLeft,n=n.offsetParent;return t-r},getElementViewTop:function(e,t){for(var n,r=e.offsetTop,i=e.offsetParent;null!==i;)r+=i.offsetTop,i=i.offsetParent;return n=document.body.scrollTop+document.documentElement.scrollTop,t?r:r-n},isMobile:r,storage:{set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}},nameMap:{dragStart:r?"touchstart":"mousedown",dragMove:r?"touchmove":"mousemove",dragEnd:r?"touchend":"mouseup"},randomOrder:function(e){return function(e){for(var t=e.length-1;t>=0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[n];e[n]=e[t],e[t]=r}return e}([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array(e))).map((function(e,t){return t})))}};t.default=i},function(e,t,n){var r=n(2);e.exports=function(e){e=e||{};var t="",n=r.$each,i=e.audio,a=(e.$value,e.$index,r.$escape),o=e.theme,l=e.index;return n(i,(function(e,n){t+='\n<li>\n    <span class="aplayer-list-cur" style="background-color: ',t+=a(e.theme||o),t+=';"></span>\n    <span class="aplayer-list-index">',t+=a(n+l),t+='</span>\n    <span class="aplayer-list-title">',t+=a(e.name),t+='</span>\n    <span class="aplayer-list-author">',t+=a(e.artist),t+="</span>\n</li>\n"})),t}},function(e,t,n){e.exports=n(15)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(33)),i=g(n(32)),a=g(n(31)),o=g(n(30)),l=g(n(29)),s=g(n(28)),c=g(n(27)),u=g(n(26)),p=g(n(25)),h=g(n(24)),d=g(n(23)),f=g(n(22)),y=g(n(21)),m=g(n(20)),v=g(n(19));function g(e){return e&&e.__esModule?e:{default:e}}var b={play:r.default,pause:i.default,volumeUp:a.default,volumeDown:o.default,volumeOff:l.default,orderRandom:s.default,orderList:c.default,menu:u.default,loopAll:p.default,loopOne:h.default,loopNone:d.default,loading:f.default,right:y.default,skip:m.default,lrc:v.default};t.default=b},function(e,t,n){var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":i(window))&&(r=window)}e.exports=r},function(e,t,n){var r,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0===(i="function"==typeof(r=function(){if("object"===("undefined"==typeof window?"undefined":a(window))&&void 0!==document.querySelectorAll&&void 0!==window.pageYOffset&&void 0!==history.pushState){var e=function(e,t,n,r){return n>r?t:e+(t-e)*((i=n/r)<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1);var i},t=function(t,n,r,i){n=n||500;var a=(i=i||window).scrollTop||window.pageYOffset;if("number"==typeof t)var o=parseInt(t);else o=function(e,t){return"HTML"===e.nodeName?-t:e.getBoundingClientRect().top+t}(t,a);var l=Date.now(),s=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,15)};!function c(){var u=Date.now()-l;i!==window?i.scrollTop=e(a,o,u,n):window.scroll(0,e(a,o,u,n)),u>n?"function"==typeof r&&r(t):s(c)}()},n=function(e){if(!e.defaultPrevented){e.preventDefault(),location.hash!==this.hash&&window.history.pushState(null,null,this.hash);var n=document.getElementById(this.hash.substring(1));if(!n)return;t(n,500,(function(e){location.replace("#"+e.id)}))}};return document.addEventListener("DOMContentLoaded",(function(){for(var e,t=document.querySelectorAll('a[href^="#"]:not([href="#"])'),r=t.length;e=t[--r];)e.addEventListener("click",n,!1)})),t}})?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(1)),a=l(n(0)),o=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.index=0,this.audios=this.player.options.audio,this.bindEvents()}return r(e,[{key:"bindEvents",value:function(){var e=this;this.player.template.list.addEventListener("click",(function(t){var n=void 0;n="LI"===t.target.tagName.toUpperCase()?t.target:t.target.parentElement;var r=parseInt(n.getElementsByClassName("aplayer-list-index")[0].innerHTML)-1;r!==e.index?(e.switch(r),e.player.play()):e.player.toggle()}))}},{key:"show",value:function(){this.player.events.trigger("listshow"),this.player.template.list.classList.remove("aplayer-list-hide"),this.player.template.listOl.scrollTop=33*this.index}},{key:"hide",value:function(){this.player.events.trigger("listhide"),this.player.template.list.classList.add("aplayer-list-hide")}},{key:"toggle",value:function(){this.player.template.list.classList.contains("aplayer-list-hide")?this.show():this.hide()}},{key:"add",value:function(e){this.player.events.trigger("listadd",{audios:e}),"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),e.map((function(e){return e.name=e.name||e.title||"Audio name",e.artist=e.artist||e.author||"Audio artist",e.cover=e.cover||e.pic,e.type=e.type||"normal",e}));var t=!(this.audios.length>1),n=0===this.audios.length;this.player.template.listOl.innerHTML+=(0,i.default)({theme:this.player.options.theme,audio:e,index:this.audios.length+1}),this.audios=this.audios.concat(e),t&&this.audios.length>1&&this.player.container.classList.add("aplayer-withlist"),this.player.randomOrder=a.default.randomOrder(this.audios.length),this.player.template.listCurs=this.player.container.querySelectorAll(".aplayer-list-cur"),this.player.template.listCurs[this.audios.length-1].style.backgroundColor=e.theme||this.player.options.theme,n&&("random"===this.player.options.order?this.switch(this.player.randomOrder[0]):this.switch(0))}},{key:"remove",value:function(e){if(this.player.events.trigger("listremove",{index:e}),this.audios[e])if(this.audios.length>1){var t=this.player.container.querySelectorAll(".aplayer-list li");t[e].remove(),this.audios.splice(e,1),this.player.lrc&&this.player.lrc.remove(e),e===this.index&&(this.audios[e]?this.switch(e):this.switch(e-1)),this.index>e&&this.index--;for(var n=e;n<t.length;n++)t[n].getElementsByClassName("aplayer-list-index")[0].textContent=n;1===this.audios.length&&this.player.container.classList.remove("aplayer-withlist"),this.player.template.listCurs=this.player.container.querySelectorAll(".aplayer-list-cur")}else this.clear()}},{key:"switch",value:function(e){if(this.player.events.trigger("listswitch",{index:e}),void 0!==e&&this.audios[e]){this.index=e;var t=this.audios[this.index];this.player.template.pic.style.backgroundImage=t.cover?"url('"+t.cover+"')":"",this.player.theme(this.audios[this.index].theme||this.player.options.theme,this.index,!1),this.player.template.title.innerHTML=t.name,this.player.template.author.innerHTML=t.artist?" - "+t.artist:"";var n=this.player.container.getElementsByClassName("aplayer-list-light")[0];n&&n.classList.remove("aplayer-list-light"),this.player.container.querySelectorAll(".aplayer-list li")[this.index].classList.add("aplayer-list-light"),(0,o.default)(33*this.index,500,null,this.player.template.listOl),this.player.setAudio(t),this.player.lrc&&this.player.lrc.switch(this.index),this.player.lrc&&this.player.lrc.update(0),1!==this.player.duration&&(this.player.template.dtime.innerHTML=a.default.secondToTime(this.player.duration))}}},{key:"clear",value:function(){this.player.events.trigger("listclear"),this.index=0,this.player.container.classList.remove("aplayer-withlist"),this.player.pause(),this.audios=[],this.player.lrc&&this.player.lrc.clear(),this.player.audio.src="",this.player.template.listOl.innerHTML="",this.player.template.pic.style.backgroundImage="",this.player.theme(this.player.options.theme,this.index,!1),this.player.template.title.innerHTML="No audio",this.player.template.author.innerHTML="",this.player.bar.set("loaded",0,"width"),this.player.template.dtime.innerHTML=a.default.secondToTime(0)}}]),e}();t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={},this.audioEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["destroy","listshow","listhide","listadd","listremove","listswitch","listclear","noticeshow","noticehide","lrcshow","lrchide"]}return r(e,[{key:"on",value:function(e,t){this.type(e)&&"function"==typeof t&&(this.events[e]||(this.events[e]=[]),this.events[e].push(t))}},{key:"trigger",value:function(e,t){if(this.events[e]&&this.events[e].length)for(var n=0;n<this.events[e].length;n++)this.events[e][n](t)}},{key:"type",value:function(e){return-1!==this.playerEvents.indexOf(e)?"player":-1!==this.audioEvents.indexOf(e)?"audio":(console.error("Unknown event name: "+e),null)}}]),e}();t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},this.types=["loading"],this.init()}return r(e,[{key:"init",value:function(){var e=this;this.types.forEach((function(t){e["init"+t+"Checker"]()}))}},{key:"initloadingChecker",value:function(){var e=this,t=0,n=0,r=!1;this.loadingChecker=setInterval((function(){e.enableloadingChecker&&(n=e.player.audio.currentTime,r||n!==t||e.player.audio.paused||(e.player.container.classList.add("aplayer-loading"),r=!0),r&&n>t&&!e.player.audio.paused&&(e.player.container.classList.remove("aplayer-loading"),r=!1),t=n)}),100)}},{key:"enable",value:function(e){this["enable"+e+"Checker"]=!0,"fps"===e&&this.initfpsChecker()}},{key:"disable",value:function(e){this["enable"+e+"Checker"]=!1}},{key:"destroy",value:function(){var e=this;this.types.forEach((function(t){e["enable"+t+"Checker"]=!1,e[t+"Checker"]&&clearInterval(e[t+"Checker"])}))}}]),e}();t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=o(n(0)),a=o(n(3));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.initPlayButton(),this.initPlayBar(),this.initOrderButton(),this.initLoopButton(),this.initMenuButton(),i.default.isMobile||this.initVolumeButton(),this.initMiniSwitcher(),this.initSkipButton(),this.initLrcButton()}return r(e,[{key:"initPlayButton",value:function(){var e=this;this.player.template.pic.addEventListener("click",(function(){e.player.toggle()}))}},{key:"initPlayBar",value:function(){var e=this,t=function(t){var n=((t.clientX||t.changedTouches[0].clientX)-i.default.getElementViewLeft(e.player.template.barWrap))/e.player.template.barWrap.clientWidth;n=Math.max(n,0),n=Math.min(n,1),e.player.bar.set("played",n,"width"),e.player.lrc&&e.player.lrc.update(n*e.player.duration),e.player.template.ptime.innerHTML=i.default.secondToTime(n*e.player.duration)},n=function n(r){document.removeEventListener(i.default.nameMap.dragEnd,n),document.removeEventListener(i.default.nameMap.dragMove,t);var a=((r.clientX||r.changedTouches[0].clientX)-i.default.getElementViewLeft(e.player.template.barWrap))/e.player.template.barWrap.clientWidth;a=Math.max(a,0),a=Math.min(a,1),e.player.bar.set("played",a,"width"),e.player.seek(e.player.bar.get("played","width")*e.player.duration),e.player.disableTimeupdate=!1};this.player.template.barWrap.addEventListener(i.default.nameMap.dragStart,(function(){e.player.disableTimeupdate=!0,document.addEventListener(i.default.nameMap.dragMove,t),document.addEventListener(i.default.nameMap.dragEnd,n)}))}},{key:"initVolumeButton",value:function(){var e=this;this.player.template.volumeButton.addEventListener("click",(function(){e.player.audio.muted?(e.player.audio.muted=!1,e.player.switchVolumeIcon(),e.player.bar.set("volume",e.player.volume(),"height")):(e.player.audio.muted=!0,e.player.switchVolumeIcon(),e.player.bar.set("volume",0,"height"))}));var t=function(t){var n=1-((t.clientY||t.changedTouches[0].clientY)-i.default.getElementViewTop(e.player.template.volumeBar,e.player.options.fixed))/e.player.template.volumeBar.clientHeight;n=Math.max(n,0),n=Math.min(n,1),e.player.volume(n)},n=function n(r){e.player.template.volumeBarWrap.classList.remove("aplayer-volume-bar-wrap-active"),document.removeEventListener(i.default.nameMap.dragEnd,n),document.removeEventListener(i.default.nameMap.dragMove,t);var a=1-((r.clientY||r.changedTouches[0].clientY)-i.default.getElementViewTop(e.player.template.volumeBar,e.player.options.fixed))/e.player.template.volumeBar.clientHeight;a=Math.max(a,0),a=Math.min(a,1),e.player.volume(a)};this.player.template.volumeBarWrap.addEventListener(i.default.nameMap.dragStart,(function(){e.player.template.volumeBarWrap.classList.add("aplayer-volume-bar-wrap-active"),document.addEventListener(i.default.nameMap.dragMove,t),document.addEventListener(i.default.nameMap.dragEnd,n)}))}},{key:"initOrderButton",value:function(){var e=this;this.player.template.order.addEventListener("click",(function(){"list"===e.player.options.order?(e.player.options.order="random",e.player.template.order.innerHTML=a.default.orderRandom):"random"===e.player.options.order&&(e.player.options.order="list",e.player.template.order.innerHTML=a.default.orderList)}))}},{key:"initLoopButton",value:function(){var e=this;this.player.template.loop.addEventListener("click",(function(){e.player.list.audios.length>1?"one"===e.player.options.loop?(e.player.options.loop="none",e.player.template.loop.innerHTML=a.default.loopNone):"none"===e.player.options.loop?(e.player.options.loop="all",e.player.template.loop.innerHTML=a.default.loopAll):"all"===e.player.options.loop&&(e.player.options.loop="one",e.player.template.loop.innerHTML=a.default.loopOne):"one"===e.player.options.loop||"all"===e.player.options.loop?(e.player.options.loop="none",e.player.template.loop.innerHTML=a.default.loopNone):"none"===e.player.options.loop&&(e.player.options.loop="all",e.player.template.loop.innerHTML=a.default.loopAll)}))}},{key:"initMenuButton",value:function(){var e=this;this.player.template.menu.addEventListener("click",(function(){e.player.list.toggle()}))}},{key:"initMiniSwitcher",value:function(){var e=this;this.player.template.miniSwitcher.addEventListener("click",(function(){e.player.setMode("mini"===e.player.mode?"normal":"mini")}))}},{key:"initSkipButton",value:function(){var e=this;this.player.template.skipBackButton.addEventListener("click",(function(){e.player.skipBack()})),this.player.template.skipForwardButton.addEventListener("click",(function(){e.player.skipForward()})),this.player.template.skipPlayButton.addEventListener("click",(function(){e.player.toggle()}))}},{key:"initLrcButton",value:function(){var e=this;this.player.template.lrcButton.addEventListener("click",(function(){e.player.template.lrcButton.classList.contains("aplayer-icon-lrc-inactivity")?(e.player.template.lrcButton.classList.remove("aplayer-icon-lrc-inactivity"),e.player.lrc&&e.player.lrc.show()):(e.player.template.lrcButton.classList.add("aplayer-icon-lrc-inactivity"),e.player.lrc&&e.player.lrc.hide())}))}}]),e}();t.default=l},function(e,t,n){var r=n(2);e.exports=function(e){e=e||{};var t="",n=r.$each,i=e.lyrics,a=(e.$value,e.$index,r.$escape);return n(i,(function(e,n){t+="\n    <p",0===n&&(t+=' class="aplayer-lrc-current"'),t+=">",t+=a(e[1]),t+="</p>\n"})),t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=n(10))&&r.__esModule?r:{default:r},o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t.container,this.async=t.async,this.player=t.player,this.parsed=[],this.index=0,this.current=[]}return i(e,[{key:"show",value:function(){this.player.events.trigger("lrcshow"),this.player.template.lrcWrap.classList.remove("aplayer-lrc-hide")}},{key:"hide",value:function(){this.player.events.trigger("lrchide"),this.player.template.lrcWrap.classList.add("aplayer-lrc-hide")}},{key:"toggle",value:function(){this.player.template.lrcWrap.classList.contains("aplayer-lrc-hide")?this.show():this.hide()}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.player.audio.currentTime;if(this.index>this.current.length-1||e<this.current[this.index][0]||!this.current[this.index+1]||e>=this.current[this.index+1][0])for(var t=0;t<this.current.length;t++)e>=this.current[t][0]&&(!this.current[t+1]||e<this.current[t+1][0])&&(this.index=t,this.container.style.transform="translateY("+16*-this.index+"px)",this.container.style.webkitTransform="translateY("+16*-this.index+"px)",this.container.getElementsByClassName("aplayer-lrc-current")[0].classList.remove("aplayer-lrc-current"),this.container.getElementsByTagName("p")[t].classList.add("aplayer-lrc-current"))}},{key:"switch",value:function(e){var t=this;if(!this.parsed[e])if(this.async){this.parsed[e]=[["00:00","Loading"]];var n=new XMLHttpRequest;n.onreadystatechange=function(){e===t.player.list.index&&4===n.readyState&&(n.status>=200&&n.status<300||304===n.status?t.parsed[e]=t.parse(n.responseText):(t.player.notice("LRC file request fails: status "+n.status),t.parsed[e]=[["00:00","Not available"]]),t.container.innerHTML=(0,a.default)({lyrics:t.parsed[e]}),t.update(0),t.current=t.parsed[e])};var r=this.player.list.audios[e].lrc;n.open("get",r,!0),n.send(null)}else this.player.list.audios[e].lrc?this.parsed[e]=this.parse(this.player.list.audios[e].lrc):this.parsed[e]=[["00:00","Not available"]];this.container.innerHTML=(0,a.default)({lyrics:this.parsed[e]}),this.update(0),this.current=this.parsed[e]}},{key:"parse",value:function(e){if(e){for(var t=(e=e.replace(/([^\]^\n])\[/g,(function(e,t){return t+"\n["}))).split("\n"),n=[],r=t.length,i=0;i<r;i++){var a=t[i].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),o=t[i].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").replace(/^\s+|\s+$/g,"");if(a)for(var l=a.length,s=0;s<l;s++){var c=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(a[s]),u=60*c[1]+parseInt(c[2])+(c[4]?parseInt(c[4])/(2===(c[4]+"").length?100:1e3):0);n.push([u,o])}}return(n=n.filter((function(e){return e[1]}))).sort((function(e,t){return e[0]-t[0]})),n}return[]}},{key:"remove",value:function(e){this.parsed.splice(e,1)}},{key:"clear",value:function(){this.parsed=[],this.container.innerHTML=""}}]),e}();t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(r=n(0))&&r.__esModule?r:{default:r},o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storageName=t.options.storageName,this.data=JSON.parse(a.default.storage.get(this.storageName)),this.data||(this.data={}),this.data.volume=this.data.volume||t.options.volume}return i(e,[{key:"get",value:function(e){return this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t,a.default.storage.set(this.storageName,JSON.stringify(this.data))}}]),e}();t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements={},this.elements.volume=t.volume,this.elements.played=t.played,this.elements.loaded=t.loaded}return r(e,[{key:"set",value:function(e,t,n){t=Math.max(t,0),t=Math.min(t,1),this.elements[e].style[n]=100*t+"%"}},{key:"get",value:function(e,t){return parseFloat(this.elements[e].style[t])/100}}]),e}();t.default=i},function(e,t,n){(function(t){e.exports=!1;try{e.exports="[object process]"===Object.prototype.toString.call(t.process)}catch(e){}}).call(this,n(4))},function(e,t,n){(function(t){var r=n(14),i=Object.create(r?t:window),a=/["&'<>]/;i.$escape=function(e){return function(e){var t=""+e,n=a.exec(t);if(!n)return e;var r="",i=void 0,o=void 0,l=void 0;for(i=n.index,o=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:l="&#34;";break;case 38:l="&#38;";break;case 39:l="&#39;";break;case 60:l="&#60;";break;case 62:l="&#62;";break;default:continue}o!==i&&(r+=t.substring(o,i)),o=i+1,r+=l}return o!==i?r+t.substring(o,i):r}(function e(t){return"string"!=typeof t&&(t=null==t?"":"function"==typeof t?e(t.call(t)):JSON.stringify(t)),t}(e))},i.$each=function(e,t){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)t(e[n],n);else for(var i in e)t(e[i],i)},e.exports=i}).call(this,n(4))},function(e,t,n){var r=n(2);e.exports=function(e){var t="",i=(e=e||{}).options,a=e.cover,o=r.$escape,l=e.icons,s=function(e){return t+=e},c=e.getObject;return e.theme,e.audio,e.index,i.fixed?(t+='\n<div class="aplayer-list',i.listFolded&&(t+=" aplayer-list-hide"),t+='"',i.listMaxHeight&&(t+=' style="max-height: ',t+=o(i.listMaxHeight),t+='"'),t+=">\n    <ol",i.listMaxHeight&&(t+=' style="max-height: ',t+=o(i.listMaxHeight),t+='"'),t+=">\n        ",s(n(1)(c({theme:i.theme,audio:i.audio,index:1}))),t+='\n    </ol>\n</div>\n<div class="aplayer-body">\n    <div class="aplayer-pic" style="',a&&(t+="background-image: url(&quot;",t+=o(a),t+="&quot;);"),t+="background-color: ",t+=o(i.theme),t+=';">\n        <div class="aplayer-button aplayer-play">',t+=l.play,t+='</div>\n    </div>\n    <div class="aplayer-info" style="display: none;">\n        <div class="aplayer-music">\n            <span class="aplayer-title">No audio</span>\n            <span class="aplayer-author"></span>\n        </div>\n        <div class="aplayer-controller">\n            <div class="aplayer-bar-wrap">\n                <div class="aplayer-bar">\n                    <div class="aplayer-loaded" style="width: 0"></div>\n                    <div class="aplayer-played" style="width: 0; background: ',t+=o(i.theme),t+=';">\n                        <span class="aplayer-thumb" style="background: ',t+=o(i.theme),t+=';">\n                            <span class="aplayer-loading-icon">',t+=l.loading,t+='</span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <div class="aplayer-time">\n                <span class="aplayer-time-inner">\n                    <span class="aplayer-ptime">00:00</span> / <span class="aplayer-dtime">00:00</span>\n                </span>\n                <span class="aplayer-icon aplayer-icon-back">\n                    ',t+=l.skip,t+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-play">\n                    ',t+=l.play,t+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-forward">\n                    ',t+=l.skip,t+='\n                </span>\n                <div class="aplayer-volume-wrap">\n                    <button type="button" class="aplayer-icon aplayer-icon-volume-down">\n                        ',t+=l.volumeDown,t+='\n                    </button>\n                    <div class="aplayer-volume-bar-wrap">\n                        <div class="aplayer-volume-bar">\n                            <div class="aplayer-volume" style="height: 80%; background: ',t+=o(i.theme),t+=';"></div>\n                        </div>\n                    </div>\n                </div>\n                <button type="button" class="aplayer-icon aplayer-icon-order">\n                    ',"list"===i.order?t+=l.orderList:"random"===i.order&&(t+=l.orderRandom),t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-loop">\n                    ',"one"===i.loop?t+=l.loopOne:"all"===i.loop?t+=l.loopAll:"none"===i.loop&&(t+=l.loopNone),t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-menu">\n                    ',t+=l.menu,t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-lrc">\n                    ',t+=l.lrc,t+='\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="aplayer-notice"></div>\n    <div class="aplayer-miniswitcher"><button class="aplayer-icon">',t+=l.right,t+='</button></div>\n</div>\n<div class="aplayer-lrc">\n    <div class="aplayer-lrc-contents" style="transform: translateY(0); -webkit-transform: translateY(0);"></div>\n</div>\n'):(t+='\n<div class="aplayer-body">\n    <div class="aplayer-pic" style="',a&&(t+="background-image: url(&quot;",t+=o(a),t+="&quot;);"),t+="background-color: ",t+=o(i.theme),t+=';">\n        <div class="aplayer-button aplayer-play">',t+=l.play,t+='</div>\n    </div>\n    <div class="aplayer-info">\n        <div class="aplayer-music">\n            <span class="aplayer-title">No audio</span>\n            <span class="aplayer-author"></span>\n        </div>\n        <div class="aplayer-lrc">\n            <div class="aplayer-lrc-contents" style="transform: translateY(0); -webkit-transform: translateY(0);"></div>\n        </div>\n        <div class="aplayer-controller">\n            <div class="aplayer-bar-wrap">\n                <div class="aplayer-bar">\n                    <div class="aplayer-loaded" style="width: 0"></div>\n                    <div class="aplayer-played" style="width: 0; background: ',t+=o(i.theme),t+=';">\n                        <span class="aplayer-thumb" style="background: ',t+=o(i.theme),t+=';">\n                            <span class="aplayer-loading-icon">',t+=l.loading,t+='</span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <div class="aplayer-time">\n                <span class="aplayer-time-inner">\n                    <span class="aplayer-ptime">00:00</span> / <span class="aplayer-dtime">00:00</span>\n                </span>\n                <span class="aplayer-icon aplayer-icon-back">\n                    ',t+=l.skip,t+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-play">\n                    ',t+=l.play,t+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-forward">\n                    ',t+=l.skip,t+='\n                </span>\n                <div class="aplayer-volume-wrap">\n                    <button type="button" class="aplayer-icon aplayer-icon-volume-down">\n                        ',t+=l.volumeDown,t+='\n                    </button>\n                    <div class="aplayer-volume-bar-wrap">\n                        <div class="aplayer-volume-bar">\n                            <div class="aplayer-volume" style="height: 80%; background: ',t+=o(i.theme),t+=';"></div>\n                        </div>\n                    </div>\n                </div>\n                <button type="button" class="aplayer-icon aplayer-icon-order">\n                    ',"list"===i.order?t+=l.orderList:"random"===i.order&&(t+=l.orderRandom),t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-loop">\n                    ',"one"===i.loop?t+=l.loopOne:"all"===i.loop?t+=l.loopAll:"none"===i.loop&&(t+=l.loopNone),t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-menu">\n                    ',t+=l.menu,t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-lrc">\n                    ',t+=l.lrc,t+='\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="aplayer-notice"></div>\n    <div class="aplayer-miniswitcher"><button class="aplayer-icon">',t+=l.right,t+='</button></div>\n</div>\n<div class="aplayer-list',i.listFolded&&(t+=" aplayer-list-hide"),t+='"',i.listMaxHeight&&(t+=' style="max-height: ',t+=o(i.listMaxHeight),t+='"'),t+=">\n    <ol",i.listMaxHeight&&(t+=' style="max-height: ',t+=o(i.listMaxHeight),t+='"'),t+=">\n        ",s(n(1)(c({theme:i.theme,audio:i.audio,index:1}))),t+="\n    </ol>\n</div>\n"),t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=o(n(3)),a=o(n(16));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t.container,this.options=t.options,this.randomOrder=t.randomOrder,this.init()}return r(e,[{key:"init",value:function(){var e="";this.options.audio.length&&(e="random"===this.options.order?this.options.audio[this.randomOrder[0]].cover:this.options.audio[0].cover),this.container.innerHTML=(0,a.default)({options:this.options,icons:i.default,cover:e,getObject:function(e){return e}}),this.lrc=this.container.querySelector(".aplayer-lrc-contents"),this.lrcWrap=this.container.querySelector(".aplayer-lrc"),this.ptime=this.container.querySelector(".aplayer-ptime"),this.info=this.container.querySelector(".aplayer-info"),this.time=this.container.querySelector(".aplayer-time"),this.barWrap=this.container.querySelector(".aplayer-bar-wrap"),this.button=this.container.querySelector(".aplayer-button"),this.body=this.container.querySelector(".aplayer-body"),this.list=this.container.querySelector(".aplayer-list"),this.listOl=this.container.querySelector(".aplayer-list ol"),this.listCurs=this.container.querySelectorAll(".aplayer-list-cur"),this.played=this.container.querySelector(".aplayer-played"),this.loaded=this.container.querySelector(".aplayer-loaded"),this.thumb=this.container.querySelector(".aplayer-thumb"),this.volume=this.container.querySelector(".aplayer-volume"),this.volumeBar=this.container.querySelector(".aplayer-volume-bar"),this.volumeButton=this.container.querySelector(".aplayer-time button"),this.volumeBarWrap=this.container.querySelector(".aplayer-volume-bar-wrap"),this.loop=this.container.querySelector(".aplayer-icon-loop"),this.order=this.container.querySelector(".aplayer-icon-order"),this.menu=this.container.querySelector(".aplayer-icon-menu"),this.pic=this.container.querySelector(".aplayer-pic"),this.title=this.container.querySelector(".aplayer-title"),this.author=this.container.querySelector(".aplayer-author"),this.dtime=this.container.querySelector(".aplayer-dtime"),this.notice=this.container.querySelector(".aplayer-notice"),this.miniSwitcher=this.container.querySelector(".aplayer-miniswitcher"),this.skipBackButton=this.container.querySelector(".aplayer-icon-back"),this.skipForwardButton=this.container.querySelector(".aplayer-icon-forward"),this.skipPlayButton=this.container.querySelector(".aplayer-icon-play"),this.lrcButton=this.container.querySelector(".aplayer-icon-lrc")}}]),e}();t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={container:e.element||document.getElementsByClassName("aplayer")[0],mini:e.narrow||e.fixed||!1,fixed:!1,autoplay:!1,mutex:!0,lrcType:e.showlrc||e.lrc||0,preload:"auto",theme:"#b7daff",loop:"all",order:"list",volume:.7,listFolded:e.fixed,listMaxHeight:e.listmaxheight||"250px",audio:e.music||[],storageName:"aplayer-setting"};for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n]);return"[object Array]"!==Object.prototype.toString.call(e.audio)&&(e.audio=[e.audio]),e.audio.map((function(e){return e.name=e.name||e.title||"Audio name",e.artist=e.artist||e.author||"Audio artist",e.cover=e.cover||e.pic,e.type=e.type||"normal",e})),e.audio.length<=1&&"one"===e.loop&&(e.loop="all"),e}},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M25.468 6.947c-0.326-0.172-0.724-0.151-1.030 0.057l-6.438 4.38v-3.553c0-0.371-0.205-0.71-0.532-0.884-0.326-0.172-0.724-0.151-1.030 0.057l-12 8.164c-0.274 0.186-0.438 0.496-0.438 0.827s0.164 0.641 0.438 0.827l12 8.168c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-3.556l6.438 4.382c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-16.333c0-0.371-0.205-0.71-0.532-0.884z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M4 16c0-6.6 5.4-12 12-12s12 5.4 12 12c0 1.2-0.8 2-2 2s-2-0.8-2-2c0-4.4-3.6-8-8-8s-8 3.6-8 8 3.6 8 8 8c1.2 0 2 0.8 2 2s-0.8 2-2 2c-6.6 0-12-5.4-12-12z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 29 32"><path d="M2.667 7.027l1.707-1.693 22.293 22.293-1.693 1.707-4-4h-11.64v4l-5.333-5.333 5.333-5.333v4h8.973l-8.973-8.973v0.973h-2.667v-3.64l-4-4zM22.667 17.333h2.667v5.573l-2.667-2.667v-2.907zM22.667 6.667v-4l5.333 5.333-5.333 5.333v-4h-10.907l-2.667-2.667h13.573z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 33 32"><path d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333zM17.333 20v-8h-1.333l-2.667 1.333v1.333h2v5.333h2z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 29 32"><path d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 22 32"><path d="M20.8 14.4q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2zM1.6 11.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2zM20.8 20.8q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M0.622 18.334h19.54v7.55l11.052-9.412-11.052-9.413v7.549h-19.54v3.725z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22.667 4l7 6-7 6 7 6-7 6v-4h-3.653l-3.76-3.76 2.827-2.827 2.587 2.587h2v-8h-2l-12 12h-6v-4h4.347l12-12h3.653v-4zM2.667 8h6l3.76 3.76-2.827 2.827-2.587-2.587h-4.347v-4z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056zM29.728 16q0 4.096-2.272 7.552t-6.048 5.056q-0.224 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.64 0.704-1.056 0.128-0.064 0.384-0.192t0.416-0.192q0.8-0.448 1.44-0.896 2.208-1.632 3.456-4.064t1.216-5.152-1.216-5.152-3.456-4.064q-0.64-0.448-1.44-0.896-0.128-0.096-0.416-0.192t-0.384-0.192q-0.704-0.416-0.704-1.056 0-0.448 0.32-0.8t0.832-0.352q0.224 0 0.448 0.096 3.776 1.632 6.048 5.056t2.272 7.552z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 31"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>'},function(e,t,n){var r,i,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:l}catch(e){i=l}}();var c,u=[],p=!1,h=-1;function d(){p&&c&&(p=!1,c.length?u=c.concat(u):h=-1,u.length&&f())}function f(){if(!p){var e=s(d);p=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,p=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===l||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new y(e,t)),1!==u.length||p||s(f)},y.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var r,i,a,o,l,s=1,c={},u=!1,p=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){f(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",l=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&f(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",l,!1):e.attachEvent("onmessage",l),r=function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(e){a.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(i=p.documentElement,r=function(e){var t=p.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(f,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[s]=i,r(s),s++},h.clearImmediate=d}function d(e){delete c[e]}function f(e){if(u)setTimeout(f,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{d(e),u=!1}}}}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(this,n(4),n(34))},function(e,t,n){var r=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(35),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){(function(t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=setTimeout;function i(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function o(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}l(t.promise,r)}else(1===e._state?l:s)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===(void 0===t?"undefined":n(t))||"function"==typeof t)){var r=t.then;if(t instanceof a)return e._state=3,e._value=t,void c(e);if("function"==typeof r)return void u((i=r,o=t,function(){i.apply(o,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){s(e,t)}var i,o}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function u(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,s(t,e))}))}catch(e){if(n)return;n=!0,s(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return o(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},a.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},a.all=function(e){return new a((function(t,r){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var a=i.length;function o(e,l){try{if(l&&("object"===(void 0===l?"undefined":n(l))||"function"==typeof l)){var s=l.then;if("function"==typeof s)return void s.call(l,(function(t){o(e,t)}),r)}i[e]=l,0==--a&&t(i)}catch(e){r(e)}}for(var l=0;l<i.length;l++)o(l,i[l])}))},a.resolve=function(e){return e&&"object"===(void 0===e?"undefined":n(e))&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,n){n(e)}))},a.race=function(e){return new a((function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)}))},a._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){r(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=a}).call(this,n(36).setImmediate)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=m(n(37)),a=m(n(0)),o=m(n(3)),l=m(n(18)),s=m(n(17)),c=m(n(13)),u=m(n(12)),p=m(n(11)),h=m(n(9)),d=m(n(8)),f=m(n(7)),y=m(n(6));function m(e){return e&&e.__esModule?e:{default:e}}var v=[],g=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=(0,l.default)(t),this.container=this.options.container,this.paused=!0,this.playedPromise=i.default.resolve(),this.mode="normal",this.randomOrder=a.default.randomOrder(this.options.audio.length),this.container.classList.add("aplayer"),this.options.lrcType&&!this.options.fixed&&this.container.classList.add("aplayer-withlrc"),this.options.audio.length>1&&this.container.classList.add("aplayer-withlist"),a.default.isMobile&&this.container.classList.add("aplayer-mobile"),this.arrow=this.container.offsetWidth<=300,this.arrow&&this.container.classList.add("aplayer-arrow"),this.container=this.options.container,2===this.options.lrcType||!0===this.options.lrcType)for(var n=this.container.getElementsByClassName("aplayer-lrc-content"),r=0;r<n.length;r++)this.options.audio[r]&&(this.options.audio[r].lrc=n[r].innerHTML);this.template=new s.default({container:this.container,options:this.options,randomOrder:this.randomOrder}),this.options.fixed&&(this.container.classList.add("aplayer-fixed"),this.template.body.style.width=this.template.body.offsetWidth-18+"px"),this.options.mini&&(this.setMode("mini"),this.template.info.style.display="block"),this.template.info.offsetWidth<200&&this.template.time.classList.add("aplayer-time-narrow"),this.options.lrcType&&(this.lrc=new p.default({container:this.template.lrc,async:3===this.options.lrcType,player:this})),this.events=new f.default,this.storage=new u.default(this),this.bar=new c.default(this.template),this.controller=new h.default(this),this.timer=new d.default(this),this.list=new y.default(this),this.initAudio(),this.bindEvents(),"random"===this.options.order?this.list.switch(this.randomOrder[0]):this.list.switch(0),this.options.autoplay&&this.play(),v.push(this)}return r(e,[{key:"initAudio",value:function(){var e=this;this.audio=document.createElement("audio"),this.audio.preload=this.options.preload;for(var t=function(t){e.audio.addEventListener(e.events.audioEvents[t],(function(n){e.events.trigger(e.events.audioEvents[t],n)}))},n=0;n<this.events.audioEvents.length;n++)t(n);this.volume(this.storage.get("volume"),!0)}},{key:"bindEvents",value:function(){var e=this;this.on("play",(function(){e.paused&&e.setUIPlaying()})),this.on("pause",(function(){e.paused||e.setUIPaused()})),this.on("timeupdate",(function(){if(!e.disableTimeupdate){e.bar.set("played",e.audio.currentTime/e.duration,"width"),e.lrc&&e.lrc.update();var t=a.default.secondToTime(e.audio.currentTime);e.template.ptime.innerHTML!==t&&(e.template.ptime.innerHTML=t)}})),this.on("durationchange",(function(){1!==e.duration&&(e.template.dtime.innerHTML=a.default.secondToTime(e.duration))})),this.on("progress",(function(){var t=e.audio.buffered.length?e.audio.buffered.end(e.audio.buffered.length-1)/e.duration:0;e.bar.set("loaded",t,"width")}));var t=void 0;this.on("error",(function(){e.list.audios.length>1?(e.notice("An audio error has occurred, player will skip forward in 2 seconds."),t=setTimeout((function(){e.skipForward(),e.paused||e.play()}),2e3)):1===e.list.audios.length&&e.notice("An audio error has occurred.")})),this.events.on("listswitch",(function(){t&&clearTimeout(t)})),this.on("ended",(function(){"none"===e.options.loop?"list"===e.options.order?e.list.index<e.list.audios.length-1?(e.list.switch((e.list.index+1)%e.list.audios.length),e.play()):(e.list.switch((e.list.index+1)%e.list.audios.length),e.pause()):"random"===e.options.order&&(e.randomOrder.indexOf(e.list.index)<e.randomOrder.length-1?(e.list.switch(e.nextIndex()),e.play()):(e.list.switch(e.nextIndex()),e.pause())):"one"===e.options.loop?(e.list.switch(e.list.index),e.play()):"all"===e.options.loop&&(e.skipForward(),e.play())}))}},{key:"setAudio",value:function(e){this.hls&&(this.hls.destroy(),this.hls=null);var t=e.type;this.options.customAudioType&&this.options.customAudioType[t]?"[object Function]"===Object.prototype.toString.call(this.options.customAudioType[t])?this.options.customAudioType[t](this.audio,e,this):console.error("Illegal customType: "+t):(t&&"auto"!==t||(t=/m3u8(#|\?|$)/i.exec(e.url)?"hls":"normal"),"hls"===t?Hls.isSupported()?(this.hls=new Hls,this.hls.loadSource(e.url),this.hls.attachMedia(this.audio)):this.audio.canPlayType("application/x-mpegURL")||this.audio.canPlayType("application/vnd.apple.mpegURL")?this.audio.src=e.url:this.notice("Error: HLS is not supported."):"normal"===t&&(this.audio.src=e.url)),this.seek(0),this.paused||this.audio.play()}},{key:"theme",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.list.audios[this.list.index].theme||this.options.theme,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.list.index;(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.list.audios[t]&&(this.list.audios[t].theme=e),this.template.listCurs[t]&&(this.template.listCurs[t].style.backgroundColor=e),t===this.list.index&&(this.template.pic.style.backgroundColor=e,this.template.played.style.background=e,this.template.thumb.style.background=e,this.template.volume.style.background=e)}},{key:"seek",value:function(e){e=Math.max(e,0),e=Math.min(e,this.duration),this.audio.currentTime=e,this.bar.set("played",e/this.duration,"width"),this.template.ptime.innerHTML=a.default.secondToTime(e)}},{key:"setUIPlaying",value:function(){var e=this;if(this.paused&&(this.paused=!1,this.template.button.classList.remove("aplayer-play"),this.template.button.classList.add("aplayer-pause"),this.template.button.innerHTML="",setTimeout((function(){e.template.button.innerHTML=o.default.pause}),100),this.template.skipPlayButton.innerHTML=o.default.pause),this.timer.enable("loading"),this.options.mutex)for(var t=0;t<v.length;t++)this!==v[t]&&v[t].pause()}},{key:"play",value:function(){var e=this;this.setUIPlaying();var t=this.audio.play();t&&t.catch((function(t){console.warn(t),"NotAllowedError"===t.name&&e.setUIPaused()}))}},{key:"setUIPaused",value:function(){var e=this;this.paused||(this.paused=!0,this.template.button.classList.remove("aplayer-pause"),this.template.button.classList.add("aplayer-play"),this.template.button.innerHTML="",setTimeout((function(){e.template.button.innerHTML=o.default.play}),100),this.template.skipPlayButton.innerHTML=o.default.play),this.container.classList.remove("aplayer-loading"),this.timer.disable("loading")}},{key:"pause",value:function(){this.setUIPaused(),this.audio.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeButton.innerHTML=o.default.volumeUp:this.volume()>0?this.template.volumeButton.innerHTML=o.default.volumeDown:this.template.volumeButton.innerHTML=o.default.volumeOff}},{key:"volume",value:function(e,t){return e=parseFloat(e),isNaN(e)||(e=Math.max(e,0),e=Math.min(e,1),this.bar.set("volume",e,"height"),t||this.storage.set("volume",e),this.audio.volume=e,this.audio.muted&&(this.audio.muted=!1),this.switchVolumeIcon()),this.audio.muted?0:this.audio.volume}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"toggle",value:function(){this.template.button.classList.contains("aplayer-play")?this.play():this.template.button.classList.contains("aplayer-pause")&&this.pause()}},{key:"switchAudio",value:function(e){this.list.switch(e)}},{key:"addAudio",value:function(e){this.list.add(e)}},{key:"removeAudio",value:function(e){this.list.remove(e)}},{key:"destroy",value:function(){v.splice(v.indexOf(this),1),this.pause(),this.container.innerHTML="",this.audio.src="",this.timer.destroy(),this.events.trigger("destroy")}},{key:"setMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal";this.mode=e,"mini"===e?this.container.classList.add("aplayer-narrow"):"normal"===e&&this.container.classList.remove("aplayer-narrow")}},{key:"notice",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=e,this.template.notice.style.opacity=r,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("noticeshow",{text:e}),n&&(this.noticeTime=setTimeout((function(){t.template.notice.style.opacity=0,t.events.trigger("noticehide")}),n))}},{key:"prevIndex",value:function(){if(!(this.list.audios.length>1))return 0;if("list"===this.options.order)return this.list.index-1<0?this.list.audios.length-1:this.list.index-1;if("random"===this.options.order){var e=this.randomOrder.indexOf(this.list.index);return 0===e?this.randomOrder[this.randomOrder.length-1]:this.randomOrder[e-1]}}},{key:"nextIndex",value:function(){if(!(this.list.audios.length>1))return 0;if("list"===this.options.order)return(this.list.index+1)%this.list.audios.length;if("random"===this.options.order){var e=this.randomOrder.indexOf(this.list.index);return e===this.randomOrder.length-1?this.randomOrder[0]:this.randomOrder[e+1]}}},{key:"skipBack",value:function(){this.list.switch(this.prevIndex())}},{key:"skipForward",value:function(){this.list.switch(this.nextIndex())}},{key:"duration",get:function(){return isNaN(this.audio.duration)?0:this.audio.duration}}],[{key:"version",get:function(){return"1.10.1"}}]),e}();t.default=g},,function(e,t,n){},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n(40);var r,i=(r=n(38))&&r.__esModule?r:{default:r};console.log("\n %c APlayer v1.10.1 af84efb %c http://aplayer.js.org \n","color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;"),t.default=i.default}]).default}($e);var Pe=le($e.exports);function Ie(t){let n;return{c(){n=y("div"),x(n,"id","aplayer")},m(e,r){h(e,n,r),t[1](n)},p:e,i:e,o:e,d(e){e&&d(n),t[1](null)}}}function Ce(e,t,n){let r,i;function a(e){const t=e.detail,n=ce(t.datetime);i.list.add({name:`${t.title} (${n.format("YYYY/MM/DD")})`,artist:t.artist,url:t.url}),i.list.switch(i.list.audios.length-1),i.play(),i.setMode("normal")}return O(()=>{i=new Pe({container:r,fixed:!0,audio:[]}),window.addEventListener("player",a)}),[r,function(e){P[e?"unshift":"push"](()=>{r=e,n(0,r)})}]}re('.aplayer{background:#fff;font-family:Arial,Helvetica,sans-serif;margin:5px;box-shadow:0 2px 2px 0 rgba(0,0,0,.07),0 1px 5px 0 rgba(0,0,0,.1);border-radius:2px;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:normal;position:relative}.aplayer *{box-sizing:content-box}.aplayer svg{width:100%;height:100%}.aplayer svg circle,.aplayer svg path{fill:#fff}.aplayer.aplayer-withlist .aplayer-info{border-bottom:1px solid #e9e9e9}.aplayer.aplayer-withlist .aplayer-list{display:block}.aplayer.aplayer-withlist .aplayer-icon-order,.aplayer.aplayer-withlist .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon.aplayer-icon-menu{display:inline}.aplayer.aplayer-withlrc .aplayer-pic{height:90px;width:90px}.aplayer.aplayer-withlrc .aplayer-info{margin-left:90px;height:90px;padding:10px 7px 0}.aplayer.aplayer-withlrc .aplayer-lrc{display:block}.aplayer.aplayer-narrow{width:66px}.aplayer.aplayer-narrow .aplayer-info,.aplayer.aplayer-narrow .aplayer-list{display:none}.aplayer.aplayer-narrow .aplayer-body,.aplayer.aplayer-narrow .aplayer-pic{height:66px;width:66px}.aplayer.aplayer-fixed{position:fixed;bottom:0;left:0;right:0;margin:0;z-index:99;overflow:visible;max-width:400px;box-shadow:none}.aplayer.aplayer-fixed .aplayer-list{margin-bottom:65px;border:1px solid #eee;border-bottom:none}.aplayer.aplayer-fixed .aplayer-body{position:fixed;bottom:0;left:0;right:0;margin:0;z-index:99;background:#fff;padding-right:18px;transition:all .3s ease;max-width:400px}.aplayer.aplayer-fixed .aplayer-lrc{display:block;position:fixed;bottom:10px;left:0;right:0;margin:0;z-index:98;pointer-events:none;text-shadow:-1px -1px 0 #fff}.aplayer.aplayer-fixed .aplayer-lrc:after,.aplayer.aplayer-fixed .aplayer-lrc:before{display:none}.aplayer.aplayer-fixed .aplayer-info{-webkit-transform:scaleX(1);transform:scaleX(1);-webkit-transform-origin:0 0;transform-origin:0 0;transition:all .3s ease;border-bottom:none;border-top:1px solid #e9e9e9}.aplayer.aplayer-fixed .aplayer-info .aplayer-music{width:calc(100% - 105px)}.aplayer.aplayer-fixed .aplayer-miniswitcher{display:block}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-info{display:block;-webkit-transform:scaleX(0);transform:scaleX(0)}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body{width:66px!important}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-miniswitcher .aplayer-icon{-webkit-transform:rotateY(0);transform:rotateY(0)}.aplayer.aplayer-fixed .aplayer-icon-back,.aplayer.aplayer-fixed .aplayer-icon-forward,.aplayer.aplayer-fixed .aplayer-icon-lrc,.aplayer.aplayer-fixed .aplayer-icon-play{display:inline-block}.aplayer.aplayer-fixed .aplayer-icon-back,.aplayer.aplayer-fixed .aplayer-icon-forward,.aplayer.aplayer-fixed .aplayer-icon-menu,.aplayer.aplayer-fixed .aplayer-icon-play{position:absolute;bottom:27px;width:20px;height:20px}.aplayer.aplayer-fixed .aplayer-icon-back{right:75px}.aplayer.aplayer-fixed .aplayer-icon-play{right:50px}.aplayer.aplayer-fixed .aplayer-icon-forward{right:25px}.aplayer.aplayer-fixed .aplayer-icon-menu{right:0}.aplayer.aplayer-arrow .aplayer-icon-loop,.aplayer.aplayer-arrow .aplayer-icon-order,.aplayer.aplayer-mobile .aplayer-icon-volume-down{display:none}.aplayer.aplayer-loading .aplayer-info .aplayer-controller .aplayer-loading-icon{display:block}.aplayer.aplayer-loading .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar .aplayer-played .aplayer-thumb{-webkit-transform:scale(1);transform:scale(1)}.aplayer .aplayer-body{position:relative}.aplayer .aplayer-icon{width:15px;height:15px;border:none;background-color:transparent;outline:none;cursor:pointer;opacity:.8;vertical-align:middle;padding:0;font-size:12px;margin:0;display:inline-block}.aplayer .aplayer-icon path{transition:all .2s ease-in-out}.aplayer .aplayer-icon-back,.aplayer .aplayer-icon-forward,.aplayer .aplayer-icon-lrc,.aplayer .aplayer-icon-order,.aplayer .aplayer-icon-play{display:none}.aplayer .aplayer-icon-lrc-inactivity svg{opacity:.4}.aplayer .aplayer-icon-forward{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.aplayer .aplayer-lrc-content{display:none}.aplayer .aplayer-pic{position:relative;float:left;height:66px;width:66px;background-size:cover;background-position:50%;transition:all .3s ease;cursor:pointer}.aplayer .aplayer-pic:hover .aplayer-button{opacity:1}.aplayer .aplayer-pic .aplayer-button{position:absolute;border-radius:50%;opacity:.8;text-shadow:0 1px 1px rgba(0,0,0,.2);box-shadow:0 1px 1px rgba(0,0,0,.2);background:rgba(0,0,0,.2);transition:all .1s ease}.aplayer .aplayer-pic .aplayer-button path{fill:#fff}.aplayer .aplayer-pic .aplayer-hide{display:none}.aplayer .aplayer-pic .aplayer-play{width:26px;height:26px;border:2px solid #fff;bottom:50%;right:50%;margin:0 -15px -15px 0}.aplayer .aplayer-pic .aplayer-play svg{position:absolute;top:3px;left:4px;height:20px;width:20px}.aplayer .aplayer-pic .aplayer-pause{width:16px;height:16px;border:2px solid #fff;bottom:4px;right:4px}.aplayer .aplayer-pic .aplayer-pause svg{position:absolute;top:2px;left:2px;height:12px;width:12px}.aplayer .aplayer-info{margin-left:66px;padding:14px 7px 0 10px;height:66px;box-sizing:border-box}.aplayer .aplayer-info .aplayer-music{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin:0 0 13px 5px;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;cursor:default;padding-bottom:2px;height:20px}.aplayer .aplayer-info .aplayer-music .aplayer-title{font-size:14px}.aplayer .aplayer-info .aplayer-music .aplayer-author{font-size:12px;color:#666}.aplayer .aplayer-info .aplayer-controller{position:relative;display:flex}.aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap{margin:0 0 0 5px;padding:4px 0;cursor:pointer!important;flex:1}.aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap:hover .aplayer-bar .aplayer-played .aplayer-thumb{-webkit-transform:scale(1);transform:scale(1)}.aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar{position:relative;height:2px;width:100%;background:#cdcdcd}.aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar .aplayer-loaded{position:absolute;left:0;top:0;bottom:0;background:#aaa;height:2px;transition:all .5s ease}.aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar .aplayer-played{position:absolute;left:0;top:0;bottom:0;height:2px}.aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar .aplayer-played .aplayer-thumb{position:absolute;top:0;right:5px;margin-top:-4px;margin-right:-10px;height:10px;width:10px;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;-webkit-transform:scale(0);transform:scale(0)}.aplayer .aplayer-info .aplayer-controller .aplayer-time{position:relative;right:0;bottom:4px;height:17px;color:#999;font-size:11px;padding-left:7px}.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-time-inner{vertical-align:middle}.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon{cursor:pointer;transition:all .2s ease}.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon path{fill:#666}.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon.aplayer-icon-loop{margin-right:2px}.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon:hover path{fill:#000}.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon.aplayer-icon-menu,.aplayer .aplayer-info .aplayer-controller .aplayer-time.aplayer-time-narrow .aplayer-icon-menu,.aplayer .aplayer-info .aplayer-controller .aplayer-time.aplayer-time-narrow .aplayer-icon-mode{display:none}.aplayer .aplayer-info .aplayer-controller .aplayer-volume-wrap{position:relative;display:inline-block;margin-left:3px;cursor:pointer!important}.aplayer .aplayer-info .aplayer-controller .aplayer-volume-wrap:hover .aplayer-volume-bar-wrap{height:40px}.aplayer .aplayer-info .aplayer-controller .aplayer-volume-wrap .aplayer-volume-bar-wrap{position:absolute;bottom:15px;right:-3px;width:25px;height:0;z-index:99;overflow:hidden;transition:all .2s ease-in-out}.aplayer .aplayer-info .aplayer-controller .aplayer-volume-wrap .aplayer-volume-bar-wrap.aplayer-volume-bar-wrap-active{height:40px}.aplayer .aplayer-info .aplayer-controller .aplayer-volume-wrap .aplayer-volume-bar-wrap .aplayer-volume-bar{position:absolute;bottom:0;right:10px;width:5px;height:35px;background:#aaa;border-radius:2.5px;overflow:hidden}.aplayer .aplayer-info .aplayer-controller .aplayer-volume-wrap .aplayer-volume-bar-wrap .aplayer-volume-bar .aplayer-volume{position:absolute;bottom:0;right:0;width:5px;transition:all .1s ease}.aplayer .aplayer-info .aplayer-controller .aplayer-loading-icon{display:none}.aplayer .aplayer-info .aplayer-controller .aplayer-loading-icon svg{position:absolute;-webkit-animation:rotate 1s linear infinite;animation:rotate 1s linear infinite}.aplayer .aplayer-lrc{display:none;position:relative;height:30px;text-align:center;overflow:hidden;margin:-10px 0 7px}.aplayer .aplayer-lrc:before{top:0;height:10%;background:linear-gradient(180deg,#fff 0,hsla(0,0%,100%,0));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffffff",endColorstr="#00ffffff",GradientType=0)}.aplayer .aplayer-lrc:after,.aplayer .aplayer-lrc:before{position:absolute;z-index:1;display:block;overflow:hidden;width:100%;content:" "}.aplayer .aplayer-lrc:after{bottom:0;height:33%;background:linear-gradient(180deg,hsla(0,0%,100%,0) 0,hsla(0,0%,100%,.8));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#ccffffff",GradientType=0)}.aplayer .aplayer-lrc p{font-size:12px;color:#666;line-height:16px!important;height:16px!important;padding:0!important;margin:0!important;transition:all .5s ease-out;opacity:.4;overflow:hidden}.aplayer .aplayer-lrc p.aplayer-lrc-current{opacity:1;overflow:visible;height:auto!important;min-height:16px}.aplayer .aplayer-lrc.aplayer-lrc-hide{display:none}.aplayer .aplayer-lrc .aplayer-lrc-contents{width:100%;transition:all .5s ease-out;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;cursor:default}.aplayer .aplayer-list{overflow:auto;transition:all .5s ease;will-change:height;display:none;overflow:hidden}.aplayer .aplayer-list.aplayer-list-hide{max-height:0!important}.aplayer .aplayer-list ol{list-style-type:none;margin:0;padding:0;overflow-y:auto}.aplayer .aplayer-list ol::-webkit-scrollbar{width:5px}.aplayer .aplayer-list ol::-webkit-scrollbar-thumb{border-radius:3px;background-color:#eee}.aplayer .aplayer-list ol::-webkit-scrollbar-thumb:hover{background-color:#ccc}.aplayer .aplayer-list ol li{position:relative;height:32px;line-height:32px;padding:0 15px;font-size:12px;border-top:1px solid #e9e9e9;cursor:pointer;transition:all .2s ease;overflow:hidden;margin:0}.aplayer .aplayer-list ol li:first-child{border-top:none}.aplayer .aplayer-list ol li:hover{background:#efefef}.aplayer .aplayer-list ol li.aplayer-list-light{background:#e9e9e9}.aplayer .aplayer-list ol li.aplayer-list-light .aplayer-list-cur{display:inline-block}.aplayer .aplayer-list ol li .aplayer-list-cur{display:none;width:3px;height:22px;position:absolute;left:0;top:5px;cursor:pointer}.aplayer .aplayer-list ol li .aplayer-list-index{color:#666;margin-right:12px;cursor:pointer}.aplayer .aplayer-list ol li .aplayer-list-author{color:#666;float:right;cursor:pointer}.aplayer .aplayer-notice{opacity:0;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);font-size:12px;border-radius:4px;padding:5px 10px;transition:all .3s ease-in-out;overflow:hidden;color:#fff;pointer-events:none;background-color:#f4f4f5;color:#909399}.aplayer .aplayer-miniswitcher{display:none;position:absolute;top:0;right:0;bottom:0;height:100%;background:#e6e6e6;width:18px;border-radius:0 2px 2px 0}.aplayer .aplayer-miniswitcher .aplayer-icon{height:100%;width:100%;-webkit-transform:rotateY(180deg);transform:rotateY(180deg);transition:all .3s ease}.aplayer .aplayer-miniswitcher .aplayer-icon path{fill:#666}.aplayer .aplayer-miniswitcher .aplayer-icon:hover path{fill:#000}@-webkit-keyframes aplayer-roll{0%{left:0}to{left:-100%}}@keyframes aplayer-roll{0%{left:0}to{left:-100%}}@-webkit-keyframes rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}');class Ne extends Q{constructor(e){super(),J(this,e,Ce,Ie,a,{})}}function Re(t){let n,i,a,o,l,s,c,u,f;return{c(){n=y("header"),i=y("div"),a=y("div"),a.innerHTML="Suiseki <small>/ 彗跡</small>",o=g(),l=y("div"),l.innerHTML='<a href="https://twitter.com/suisei_hosimati" target="_blank" class="svelte-mnw6v5"><i class="icon-twitter svelte-mnw6v5"></i></a> \n      <a href="https://www.youtube.com/channel/UC5CwaMl1eIgY8h02uZw7u8A" target="_blank" class="svelte-mnw6v5"><i class="icon-youtube svelte-mnw6v5"></i></a> \n      <a href="https://github.com/suisei-cn/suiseki" target="_blank" class="svelte-mnw6v5"><i class="icon-github1 svelte-mnw6v5"></i></a>',s=g(),c=y("input"),x(a,"class","svelte-mnw6v5"),x(l,"class","urls svelte-mnw6v5"),x(c,"id","inputFilter"),x(c,"type","text"),x(c,"placeholder","Filter by title/artist..."),x(c,"class","svelte-mnw6v5"),x(i,"id","header"),x(i,"class","svelte-mnw6v5"),x(n,"id","headerContainer"),x(n,"class","svelte-mnw6v5")},m(e,r){h(e,n,r),p(n,i),p(i,a),p(i,o),p(i,l),p(i,s),p(i,c),T(c,t[0]),u||(f=[w(c,"input",t[2]),w(c,"input",t[1])],u=!0)},p(e,[t]){1&t&&c.value!==e[0]&&T(c,e[0])},i:e,o:e,d(e){e&&d(n),u=!1,r(f)}}}function De(e,t,n){let r="";const i=A(),a=function(e,t){let n=void 0;return(...r)=>{n&&clearTimeout(n),n=setTimeout(()=>{e(...r),n=void 0},t)}}(()=>{i("changed",{filter:r})},400);function o(){a()}return O(()=>{const e=new URL(String(document.location)).searchParams.get("q");e&&(n(0,r=e),o())}),[r,o,function(){r=this.value,n(0,r)}]}re('@font-face{font-display:block;font-family:icomoon;font-style:normal;font-weight:normal;src:url("../assets/icons/icomoon.eot?4b5z9s");src:url("../assets/icons/icomoon.eot?4b5z9s#iefix") format("embedded-opentype"), url("../assets/icons/icomoon.ttf?4b5z9s") format("truetype"), url("../assets/icons/icomoon.woff?4b5z9s") format("woff"), url("../assets/icons/icomoon.svg?4b5z9s#icomoon") format("svg")}[class^=icon-].svelte-mnw6v5.svelte-mnw6v5{font-family:icomoon !important;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-style:normal;font-variant:normal;font-weight:normal;line-height:1;text-transform:none}.icon-twitter.svelte-mnw6v5.svelte-mnw6v5::before{content:"\\ea96"}.icon-youtube.svelte-mnw6v5.svelte-mnw6v5::before{content:"\\ea9d"}.icon-github1.svelte-mnw6v5.svelte-mnw6v5::before{content:"\\eab0"}#headerContainer.svelte-mnw6v5.svelte-mnw6v5{background:#a5cdf1;display:flex;overflow:auto hidden;width:100vw}#header.svelte-mnw6v5.svelte-mnw6v5{align-items:center;box-sizing:border-box;display:flex;font-size:2rem;height:50px;letter-spacing:0.1rem;padding:4px 8px}#header.svelte-mnw6v5>.svelte-mnw6v5{flex-shrink:0}.urls.svelte-mnw6v5.svelte-mnw6v5{margin:0 5px}.urls.svelte-mnw6v5 a.svelte-mnw6v5{color:#0e67b1;font-size:0.7em;margin:0 3px;text-decoration:none}#inputFilter.svelte-mnw6v5.svelte-mnw6v5{margin:0 14px}');class Ue extends Q{constructor(e){super(),J(this,e,De,Re,a,{})}}function qe(e){let t,n;return{c(){t=v(e[1]),n=v(" song(s) in total.")},m(e,r){h(e,t,r),h(e,n,r)},p(e,n){2&n&&E(t,e[1])},d(e){e&&d(t),e&&d(n)}}}function je(e){let t,n,r,i;return{c(){t=v(e[0]),n=v(" / "),r=v(e[1]),i=v(" song(s) found.")},m(e,a){h(e,t,a),h(e,n,a),h(e,r,a),h(e,i,a)},p(e,n){1&n&&E(t,e[0]),2&n&&E(r,e[1])},d(e){e&&d(t),e&&d(n),e&&d(r),e&&d(i)}}}function Fe(t){let n,r,i,a;function o(e,t){return e[0]!==e[1]?je:qe}let l=o(t),s=l(t);return{c(){n=y("div"),r=y("div"),s.c(),i=g(),a=y("div"),a.textContent="好きなことで、生きていく",x(r,"class","part svelte-18ktv2y"),x(a,"class","part suki svelte-18ktv2y"),x(n,"class","block svelte-18ktv2y")},m(e,t){h(e,n,t),p(n,r),s.m(r,null),p(n,i),p(n,a)},p(e,[t]){l===(l=o(e))&&s?s.p(e,t):(s.d(1),s=l(e),s&&(s.c(),s.m(r,null)))},i:e,o:e,d(e){e&&d(n),s.d()}}}function ze(e,t,n){let{cnt:r}=t,{originalCnt:i}=t;return e.$$set=e=>{"cnt"in e&&n(0,r=e.cnt),"originalCnt"in e&&n(1,i=e.originalCnt)},[r,i]}re(".block.svelte-18ktv2y{background:#126b91;color:white;display:flex;font-size:1.3rem;height:130px;justify-content:center;text-align:center}@media(max-width: 550px){.block.svelte-18ktv2y{flex-direction:column}}.part.svelte-18ktv2y{align-items:center;display:flex;flex-grow:1;justify-content:center}.suki.svelte-18ktv2y{color:#ccc}");class Be extends Q{constructor(e){super(),J(this,e,ze,Fe,a,{cnt:0,originalCnt:1})}}function Ge(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function He(t){let n;return{c(){n=y("div"),n.textContent="Loading...",x(n,"id","loading"),x(n,"class","svelte-1127h8u")},m(e,t){h(e,n,t)},p:e,i:e,o:e,d(e){e&&d(n)}}}function Ye(e){let t,n,r,i,a,o,l,s=e[1],c=[];for(let t=0;t<s.length;t+=1)c[t]=Ve(Ge(e,s,t));const u=e=>V(c[e],1,1,()=>{c[e]=null});return i=new Be({props:{cnt:e[1].length,originalCnt:e[0].length}}),o=new Ne({}),{c(){t=y("main"),n=y("div");for(let e=0;e<c.length;e+=1)c[e].c();r=g(),X(i.$$.fragment),a=g(),X(o.$$.fragment),x(n,"id","timelines"),x(n,"class","svelte-1127h8u"),x(t,"id","container"),x(t,"class","svelte-1127h8u")},m(s,u){h(s,t,u),p(t,n);for(let e=0;e<c.length;e+=1)c[e].m(n,null);p(n,r),W(i,n,null),e[5](n),h(s,a,u),W(o,s,u),l=!0},p(e,t){if(2&t){let i;for(s=e[1],i=0;i<s.length;i+=1){const a=Ge(e,s,i);c[i]?(c[i].p(a,t),Y(c[i],1)):(c[i]=Ve(a),c[i].c(),Y(c[i],1),c[i].m(n,r))}for(G(),i=s.length;i<c.length;i+=1)u(i);H()}const a={};2&t&&(a.cnt=e[1].length),1&t&&(a.originalCnt=e[0].length),i.$set(a)},i(e){if(!l){for(let e=0;e<s.length;e+=1)Y(c[e]);Y(i.$$.fragment,e),Y(o.$$.fragment,e),l=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)V(c[e]);V(i.$$.fragment,e),V(o.$$.fragment,e),l=!1},d(n){n&&d(t),f(c,n),Z(i),e[5](null),n&&d(a),Z(o,n)}}}function Ve(e){let t,n;return t=new Ae({props:{title:e[8][0],sounds:e[8][1],index:e[10]}}),{c(){X(t.$$.fragment)},m(e,r){W(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.title=e[8][0]),2&n&&(r.sounds=e[8][1]),t.$set(r)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){V(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function Xe(e){let t,n,r,i,a,o;n=new Ue({}),n.$on("changed",e[4]);const l=[Ye,He],s=[];function c(e,t){return e[3]?0:1}return i=c(e),a=s[i]=l[i](e),{c(){t=y("div"),X(n.$$.fragment),r=g(),a.c(),x(t,"id","app")},m(e,a){h(e,t,a),W(n,t,null),p(t,r),s[i].m(t,null),o=!0},p(e,[n]){let r=i;i=c(e),i===r?s[i].p(e,n):(G(),V(s[r],1,1,()=>{s[r]=null}),H(),a=s[i],a?a.p(e,n):(a=s[i]=l[i](e),a.c()),Y(a,1),a.m(t,null))},i(e){o||(Y(n.$$.fragment,e),Y(a),o=!0)},o(e){V(n.$$.fragment,e),V(a),o=!1},d(e){e&&d(t),Z(n),s[i].d()}}}function We(e,t,n){let r,i=[],a=[],o="",l=!1;function s(e){o=e,(e=e.replace(/^\s/,"").replace(/\s$/,"")).length>0?(e=e.toLowerCase(),n(1,a=i.filter(t=>{const n=t[1][0];return n.title.toLowerCase().includes(e)||n.artist.toLowerCase().includes(e)}))):n(1,a=i)}return O(async()=>{await fetch(ee).then(e=>e.json()).then(e=>{const t=function(e){const t={};for(const n of e){const e=encodeURIComponent(n.title)+"|"+encodeURIComponent(n.artist);t[e]||(t[e]=[]),t[e].push(n)}return t}(e);for(const e of Object.keys(t))t[e].length<=1&&delete t[e];n(0,i=Object.entries(t).map(([e,t])=>[t[0].title,t]))}).catch(e=>{console.error(e)}),n(1,a=i),console.log(i),s(o),n(3,l=!0)}),[i,a,r,l,function(e){var t;s((null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.filter)||"")},function(e){P[e?"unshift":"push"](()=>{r=e,n(2,r)})}]}re("body{background:#126b91;height:100vh;margin:0;overflow:hidden}#container.svelte-1127h8u{box-sizing:border-box;height:calc(100vh - 50px);overflow-y:auto}#timelines.svelte-1127h8u{display:flex;flex-direction:column;position:relative}#loading.svelte-1127h8u{color:#fff8;font-size:3rem;left:50%;position:fixed;top:50%;transform:translateX(-50%) translateY(-50%)}");const Ze=[];function Ke(t,n=e){let r;const i=new Set;function o(e){if(a(t,e)&&(t=e,r)){const e=!Ze.length;for(const e of i)e[1](),Ze.push(e,t);if(e){for(let e=0;e<Ze.length;e+=2)Ze[e][0](Ze[e+1]);Ze.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(a,l=e){const s=[a,l];return i.add(s),1===i.size&&(r=n(o)||e),a(t),()=>{i.delete(s),0===i.size&&(r(),r=null)}}}}function Je(t,n,a){const o=!Array.isArray(t),l=o?[t]:t,s=n.length<2;return{subscribe:Ke(a,t=>{let a=!1;const c=[];let u=0,p=e;const h=()=>{if(u)return;p();const r=n(o?c[0]:c,t);s?t(r):p=i(r)?r:e},d=l.map((t,n)=>function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(t,e=>{c[n]=e,u&=~(1<<n),a&&h()},()=>{u|=1<<n}));return a=!0,h(),function(){r(d),p()}}).subscribe}}var Qe=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===et}(e)}(e)};var et="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function tt(e,t){return!1!==t.clone&&t.isMergeableObject(e)?ot((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function nt(e,t,n){return e.concat(t).map((function(e){return tt(e,n)}))}function rt(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function it(e,t){try{return t in e}catch(e){return!1}}function at(e,t,n){var r={};return n.isMergeableObject(e)&&rt(e).forEach((function(t){r[t]=tt(e[t],n)})),rt(t).forEach((function(i){(function(e,t){return it(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(it(e,i)&&n.isMergeableObject(t[i])?r[i]=function(e,t){if(!t.customMerge)return ot;var n=t.customMerge(e);return"function"==typeof n?n:ot}(i,n)(e[i],t[i],n):r[i]=tt(t[i],n))})),r}function ot(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||nt,n.isMergeableObject=n.isMergeableObject||Qe,n.cloneUnlessOtherwiseSpecified=tt;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):at(e,t,n):tt(t,n)}ot.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return ot(e,n,t)}),{})};var lt=ot,st=function(e,t){return(st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function ct(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}st(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ut,pt,ht,dt=function(){return(dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function ft(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function yt(e){return e.type===pt.literal}function mt(e){return e.type===pt.argument}function vt(e){return e.type===pt.number}function gt(e){return e.type===pt.date}function bt(e){return e.type===pt.time}function wt(e){return e.type===pt.select}function xt(e){return e.type===pt.plural}function Et(e){return e.type===pt.pound}function Tt(e){return e.type===pt.tag}function _t(e){return!(!e||"object"!=typeof e||e.type!==ht.number)}function kt(e){return!(!e||"object"!=typeof e||e.type!==ht.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(ut||(ut={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(pt||(pt={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(ht||(ht={}));var Mt=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,Lt=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function St(e){var t={};return e.replace(Lt,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var Ot=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var At,$t=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Pt=/^(@+)?(\+|#+)?[rs]?$/g,It=/(\*)(0+)|(#+)(0+)|(0+)/g,Ct=/^(0+)$/;function Nt(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(Pt,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function Rt(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function Dt(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!Ct.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function Ut(e){var t=Rt(e);return t||{}}function qt(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=dt(dt(dt({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return dt(dt({},e),Ut(t))}),{}));continue;case"engineering":t=dt(dt(dt({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return dt(dt({},e),Ut(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(It,(function(e,n,r,i,a,o){if(n)t.minimumIntegerDigits=r.length;else{if(i&&a)throw new Error("We currently do not support maximum integer digits");if(o)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(Ct.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if($t.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace($t,(function(e,n,r,i,a,o){return"*"===r?t.minimumFractionDigits=n.length:i&&"#"===i[0]?t.maximumFractionDigits=i.length:a&&o?(t.minimumFractionDigits=a.length,t.maximumFractionDigits=a.length+o.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var a=i.options[0];"w"===a?t=dt(dt({},t),{trailingZeroDisplay:"stripIfInteger"}):a&&(t=dt(dt({},t),Nt(a)))}else if(Pt.test(i.stem))t=dt(dt({},t),Nt(i.stem));else{var o=Rt(i.stem);o&&(t=dt(dt({},t),o));var l=Dt(i.stem);l&&(t=dt(dt({},t),l))}}return t}var jt=new RegExp("^".concat(Mt.source,"*")),Ft=new RegExp("".concat(Mt.source,"*$"));function zt(e,t){return{start:e,end:t}}var Bt=!!String.prototype.startsWith,Gt=!!String.fromCodePoint,Ht=!!Object.fromEntries,Yt=!!String.prototype.codePointAt,Vt=!!String.prototype.trimStart,Xt=!!String.prototype.trimEnd,Wt=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},Zt=!0;try{Zt="a"===(null===(At=an("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===At?void 0:At[0])}catch(e){Zt=!1}var Kt,Jt=Bt?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},Qt=Gt?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r="",i=e.length,a=0;i>a;){if((n=e[a++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},en=Ht?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n],a=i[0],o=i[1];t[a]=o}return t},tn=Yt?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r,i=e.charCodeAt(t);return i<55296||i>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?i:r-56320+(i-55296<<10)+65536}},nn=Vt?function(e){return e.trimStart()}:function(e){return e.replace(jt,"")},rn=Xt?function(e){return e.trimEnd()}:function(e){return e.replace(Ft,"")};function an(e,t){return new RegExp(e,t)}if(Zt){var on=an("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Kt=function(e,t){var n;return on.lastIndex=t,null!==(n=on.exec(e)[1])&&void 0!==n?n:""}}else Kt=function(e,t){for(var n=[];;){var r=tn(e,t);if(void 0===r||un(r)||pn(r))break;n.push(r),t+=r>=65536?2:1}return Qt.apply(void 0,n)};var ln=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var i=this.char();if(123===i){if((a=this.parseArgument(e,n)).err)return a;r.push(a.val)}else{if(125===i&&e>0)break;if(35!==i||"plural"!==t&&"selectordinal"!==t){if(60===i&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(ut.UNMATCHED_CLOSING_TAG,zt(this.clonePosition(),this.clonePosition()))}if(60===i&&!this.ignoreTag&&sn(this.peek()||0)){if((a=this.parseTag(e,t)).err)return a;r.push(a.val)}else{var a;if((a=this.parseLiteral(e,t)).err)return a;r.push(a.val)}}else{var o=this.clonePosition();this.bump(),r.push({type:pt.pound,location:zt(o,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:pt.literal,value:"<".concat(r,"/>"),location:zt(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(e+1,t,!0);if(i.err)return i;var a=i.val,o=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!sn(this.char()))return this.error(ut.INVALID_TAG,zt(o,this.clonePosition()));var l=this.clonePosition();return r!==this.parseTagName()?this.error(ut.UNMATCHED_CLOSING_TAG,zt(l,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:pt.tag,value:r,children:a,location:zt(n,this.clonePosition())},err:null}:this.error(ut.INVALID_TAG,zt(o,this.clonePosition())))}return this.error(ut.UNCLOSED_TAG,zt(n,this.clonePosition()))}return this.error(ut.INVALID_TAG,zt(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&cn(this.char());)this.bump();return this.message.slice(e,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var i=this.tryParseQuote(t);if(i)r+=i;else{var a=this.tryParseUnquoted(e,t);if(a)r+=a;else{var o=this.tryParseLeftAngleBracket();if(!o)break;r+=o}}}var l=zt(n,this.clonePosition());return{val:{type:pt.literal,value:r,location:l},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(sn(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return Qt.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),Qt(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(ut.EXPECT_ARGUMENT_CLOSING_BRACE,zt(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(ut.EMPTY_ARGUMENT,zt(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(ut.MALFORMED_ARGUMENT,zt(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(ut.EXPECT_ARGUMENT_CLOSING_BRACE,zt(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:pt.argument,value:r,location:zt(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(ut.EXPECT_ARGUMENT_CLOSING_BRACE,zt(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(ut.MALFORMED_ARGUMENT,zt(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=Kt(this.message,t),r=t+n.length;return this.bumpTo(r),{value:n,location:zt(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,r){var i,a=this.clonePosition(),o=this.parseIdentifierIfPossible().value,l=this.clonePosition();switch(o){case"":return this.error(ut.EXPECT_ARGUMENT_TYPE,zt(a,l));case"number":case"date":case"time":this.bumpSpace();var s=null;if(this.bumpIf(",")){this.bumpSpace();var c=this.clonePosition();if((m=this.parseSimpleArgStyleIfPossible()).err)return m;if(0===(h=rn(m.val)).length)return this.error(ut.EXPECT_ARGUMENT_STYLE,zt(this.clonePosition(),this.clonePosition()));s={style:h,styleLocation:zt(c,this.clonePosition())}}if((v=this.tryParseArgumentClose(r)).err)return v;var u=zt(r,this.clonePosition());if(s&&Jt(null==s?void 0:s.style,"::",0)){var p=nn(s.style.slice(2));if("number"===o)return(m=this.parseNumberSkeletonFromString(p,s.styleLocation)).err?m:{val:{type:pt.number,value:n,location:u,style:m.val},err:null};if(0===p.length)return this.error(ut.EXPECT_DATE_TIME_SKELETON,u);var h={type:ht.dateTime,pattern:p,location:s.styleLocation,parsedOptions:this.shouldParseSkeletons?St(p):{}};return{val:{type:"date"===o?pt.date:pt.time,value:n,location:u,style:h},err:null}}return{val:{type:"number"===o?pt.number:"date"===o?pt.date:pt.time,value:n,location:u,style:null!==(i=null==s?void 0:s.style)&&void 0!==i?i:null},err:null};case"plural":case"selectordinal":case"select":var d=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(ut.EXPECT_SELECT_ARGUMENT_OPTIONS,zt(d,dt({},d)));this.bumpSpace();var f=this.parseIdentifierIfPossible(),y=0;if("select"!==o&&"offset"===f.value){if(!this.bumpIf(":"))return this.error(ut.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,zt(this.clonePosition(),this.clonePosition()));var m;if(this.bumpSpace(),(m=this.tryParseDecimalInteger(ut.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,ut.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return m;this.bumpSpace(),f=this.parseIdentifierIfPossible(),y=m.val}var v,g=this.tryParsePluralOrSelectOptions(e,o,t,f);if(g.err)return g;if((v=this.tryParseArgumentClose(r)).err)return v;var b=zt(r,this.clonePosition());return"select"===o?{val:{type:pt.select,value:n,options:en(g.val),location:b},err:null}:{val:{type:pt.plural,value:n,options:en(g.val),offset:y,pluralType:"plural"===o?"cardinal":"ordinal",location:b},err:null};default:return this.error(ut.INVALID_ARGUMENT_TYPE,zt(a,l))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(ut.EXPECT_ARGUMENT_CLOSING_BRACE,zt(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(ut.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,zt(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,r=e.split(Ot).filter((function(e){return e.length>0}));n<r.length;n++){var i=r[n].split("/");if(0===i.length)throw new Error("Invalid number skeleton");for(var a=i[0],o=i.slice(1),l=0,s=o;l<s.length;l++)if(0===s[l].length)throw new Error("Invalid number skeleton");t.push({stem:a,options:o})}return t}(e)}catch(e){return this.error(ut.INVALID_NUMBER_SKELETON,t)}return{val:{type:ht.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?qt(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var i,a=!1,o=[],l=new Set,s=r.value,c=r.location;;){if(0===s.length){var u=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var p=this.tryParseDecimalInteger(ut.EXPECT_PLURAL_ARGUMENT_SELECTOR,ut.INVALID_PLURAL_ARGUMENT_SELECTOR);if(p.err)return p;c=zt(u,this.clonePosition()),s=this.message.slice(u.offset,this.offset())}if(l.has(s))return this.error("select"===t?ut.DUPLICATE_SELECT_ARGUMENT_SELECTOR:ut.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);"other"===s&&(a=!0),this.bumpSpace();var h=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?ut.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:ut.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,zt(this.clonePosition(),this.clonePosition()));var d=this.parseMessage(e+1,t,n);if(d.err)return d;var f=this.tryParseArgumentClose(h);if(f.err)return f;o.push([s,{value:d.val,location:zt(h,this.clonePosition())}]),l.add(s),this.bumpSpace(),s=(i=this.parseIdentifierIfPossible()).value,c=i.location}return 0===o.length?this.error("select"===t?ut.EXPECT_SELECT_ARGUMENT_SELECTOR:ut.EXPECT_PLURAL_ARGUMENT_SELECTOR,zt(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(ut.MISSING_OTHER_CLAUSE,zt(this.clonePosition(),this.clonePosition())):{val:o,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var i=!1,a=0;!this.isEOF();){var o=this.char();if(!(o>=48&&o<=57))break;i=!0,a=10*a+(o-48),this.bump()}var l=zt(r,this.clonePosition());return i?Wt(a*=n)?{val:a,err:null}:this.error(t,l):this.error(e,l)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=tn(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(Jt(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&un(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function sn(e){return e>=97&&e<=122||e>=65&&e<=90}function cn(e){return 45===e||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function un(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function pn(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function hn(e,t){void 0===t&&(t={}),t=dt({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new ln(e,t).parse();if(n.err){var r=SyntaxError(ut[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return(null==t?void 0:t.captureLocation)||function e(t){t.forEach((function(t){if(delete t.location,wt(t)||xt(t))for(var n in t.options)delete t.options[n].location,e(t.options[n].value);else vt(t)&&_t(t.style)||(gt(t)||bt(t))&&kt(t.style)?delete t.style.location:Tt(t)&&e(t.children)}))}(n.val),n.val}function dn(e,t){var n=t&&t.cache?t.cache:xn,r=t&&t.serializer?t.serializer:gn;return(t&&t.strategy?t.strategy:vn)(e,{cache:n,serializer:r})}function fn(e,t,n,r){var i,a=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),o=t.get(a);return void 0===o&&(o=e.call(this,r),t.set(a,o)),o}function yn(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),a=t.get(i);return void 0===a&&(a=e.apply(this,r),t.set(i,a)),a}function mn(e,t,n,r,i){return n.bind(t,e,r,i)}function vn(e,t){return mn(e,this,1===e.length?fn:yn,t.cache.create(),t.serializer)}var gn=function(){return JSON.stringify(arguments)};function bn(){this.cache=Object.create(null)}bn.prototype.get=function(e){return this.cache[e]},bn.prototype.set=function(e,t){this.cache[e]=t};var wn,xn={create:function(){return new bn}},En={variadic:function(e,t){return mn(e,this,yn,t.cache.create(),t.serializer)},monadic:function(e,t){return mn(e,this,fn,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(wn||(wn={}));var Tn,_n=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.code=n,i.originalMessage=r,i}return ct(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),kn=function(e){function t(t,n,r,i){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),wn.INVALID_VALUE,i)||this}return ct(t,e),t}(_n),Mn=function(e){function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),wn.INVALID_VALUE,r)||this}return ct(t,e),t}(_n),Ln=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),wn.MISSING_VALUE,n)||this}return ct(t,e),t}(_n);function Sn(e){return"function"==typeof e}function On(e,t,n,r,i,a,o){if(1===e.length&&yt(e[0]))return[{type:Tn.literal,value:e[0].value}];for(var l=[],s=0,c=e;s<c.length;s++){var u=c[s];if(yt(u))l.push({type:Tn.literal,value:u.value});else if(Et(u))"number"==typeof a&&l.push({type:Tn.literal,value:n.getNumberFormat(t).format(a)});else{var p=u.value;if(!i||!(p in i))throw new Ln(p,o);var h=i[p];if(mt(u))h&&"string"!=typeof h&&"number"!=typeof h||(h="string"==typeof h||"number"==typeof h?String(h):""),l.push({type:"string"==typeof h?Tn.literal:Tn.object,value:h});else if(gt(u)){var d="string"==typeof u.style?r.date[u.style]:kt(u.style)?u.style.parsedOptions:void 0;l.push({type:Tn.literal,value:n.getDateTimeFormat(t,d).format(h)})}else if(bt(u)){d="string"==typeof u.style?r.time[u.style]:kt(u.style)?u.style.parsedOptions:void 0;l.push({type:Tn.literal,value:n.getDateTimeFormat(t,d).format(h)})}else if(vt(u)){(d="string"==typeof u.style?r.number[u.style]:_t(u.style)?u.style.parsedOptions:void 0)&&d.scale&&(h*=d.scale||1),l.push({type:Tn.literal,value:n.getNumberFormat(t,d).format(h)})}else{if(Tt(u)){var f=u.children,y=u.value,m=i[y];if(!Sn(m))throw new Mn(y,"function",o);var v=m(On(f,t,n,r,i,a).map((function(e){return e.value})));Array.isArray(v)||(v=[v]),l.push.apply(l,v.map((function(e){return{type:"string"==typeof e?Tn.literal:Tn.object,value:e}})))}if(wt(u)){if(!(g=u.options[h]||u.options.other))throw new kn(u.value,h,Object.keys(u.options),o);l.push.apply(l,On(g.value,t,n,r,i))}else if(xt(u)){var g;if(!(g=u.options["=".concat(h)])){if(!Intl.PluralRules)throw new _n('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',wn.MISSING_INTL_API,o);var b=n.getPluralRules(t,{type:u.pluralType}).select(h-(u.offset||0));g=u.options[b]||u.options.other}if(!g)throw new kn(u.value,h,Object.keys(u.options),o);l.push.apply(l,On(g.value,t,n,r,i,h-(u.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===Tn.literal&&t.type===Tn.literal?n.value+=t.value:e.push(t),e}),[])}(l)}function An(e,t){return t?Object.keys(e).reduce((function(n,r){var i,a;return n[r]=(i=e[r],(a=t[r])?dt(dt(dt({},i||{}),a||{}),Object.keys(i).reduce((function(e,t){return e[t]=dt(dt({},i[t]),a[t]||{}),e}),{})):i),n}),dt({},e)):e}function $n(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(Tn||(Tn={}));var Pn=function(){function e(t,n,r,i){var a,o=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=o.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===Tn.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return On(o.ast,o.locales,o.formatters,o.formats,e,void 0,o.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==i?void 0:i.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=An(e.formats,r),this.locales=n,this.formatters=i&&i.formatters||(void 0===(a=this.formatterCache)&&(a={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:dn((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,ft([void 0],t,!1)))}),{cache:$n(a.number),strategy:En.variadic}),getDateTimeFormat:dn((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,ft([void 0],t,!1)))}),{cache:$n(a.dateTime),strategy:En.variadic}),getPluralRules:dn((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,ft([void 0],t,!1)))}),{cache:$n(a.pluralRules),strategy:En.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=hn,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();const In={},Cn=(e,t,n)=>n?(t in In||(In[t]={}),e in In[t]||(In[t][e]=n),n):n,Nn=(e,t)=>{if(null==t)return;if(t in In&&e in In[t])return In[t][e];const n=Qn(t);for(let r=0;r<n.length;r++){const i=qn(n[r],e);if(i)return Cn(e,t,i)}};let Rn;const Dn=Ke({});function Un(e){return e in Rn}function qn(e,t){return Un(e)?function(e,t){if(null==t)return;if(t in e)return e[t];const n=t.split(".");let r=e;for(let e=0;e<n.length;e++)if("object"==typeof r){if(e>0){const t=n.slice(e,n.length).join(".");if(t in r){r=r[t];break}}r=r[n[e]]}else r=void 0;return r}(function(e){return Rn[e]||null}(e),t):null}function jn(e,...t){delete In[e],Dn.update(n=>(n[e]=lt.all([n[e]||{},...t]),n))}Je([Dn],([e])=>Object.keys(e)),Dn.subscribe(e=>Rn=e);const Fn={};function zn(e){return Fn[e]}function Bn(e){return null!=e&&Qn(e).some(e=>{var t;return null===(t=zn(e))||void 0===t?void 0:t.size})}const Gn={};function Hn(e){if(!Bn(e))return e in Gn?Gn[e]:Promise.resolve();const t=function(e){return Qn(e).map(e=>{const t=zn(e);return[e,t?[...t]:[]]}).filter(([,e])=>e.length>0)}(e);return Gn[e]=Promise.all(t.map(([e,t])=>function(e,t){return Promise.all(t.map(t=>(function(e,t){Fn[e].delete(t),0===Fn[e].size&&delete Fn[e]}(e,t),t().then(e=>e.default||e)))).then(t=>jn(e,...t))}(e,t))).then(()=>{if(Bn(e))return Hn(e);delete Gn[e]}),Gn[e]}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function Yn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}const Vn={fallbackLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},warnOnMissingMessages:!0,ignoreTag:!0};function Xn(){return Vn}const Wn=Ke(!1);let Zn;const Kn=Ke(null);function Jn(e){return e.split("-").map((e,t,n)=>n.slice(0,t+1).join("-")).reverse()}function Qn(e,t=Xn().fallbackLocale){const n=Jn(e);return t?[...new Set([...n,...Jn(t)])]:n}function er(){return null!=Zn?Zn:void 0}Kn.subscribe(e=>{Zn=null!=e?e:void 0,"undefined"!=typeof window&&null!=e&&document.documentElement.setAttribute("lang",e)});const tr=Object.assign(Object.assign({},Kn),{set:e=>{if(e&&function(e){if(null==e)return;const t=Qn(e);for(let e=0;e<t.length;e++){const n=t[e];if(Un(n))return n}}(e)&&Bn(e)){const{loadingDelay:t}=Xn();let n;return"undefined"!=typeof window&&null!=er()&&t?n=window.setTimeout(()=>Wn.set(!0),t):Wn.set(!0),Hn(e).then(()=>{Kn.set(e)}).finally(()=>{clearTimeout(n),Wn.set(!1)})}return Kn.set(e)}}),nr=e=>{const t=Object.create(null);return n=>{const r=JSON.stringify(n);return r in t?t[r]:t[r]=e(n)}},rr=(e,t)=>{const{formats:n}=Xn();if(e in n&&t in n[e])return n[e][t];throw new Error(`[svelte-i18n] Unknown "${t}" ${e} format.`)},ir=nr(e=>{var{locale:t,format:n}=e,r=Yn(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return n&&(r=rr("number",n)),new Intl.NumberFormat(t,r)}),ar=nr(e=>{var{locale:t,format:n}=e,r=Yn(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return n?r=rr("date",n):0===Object.keys(r).length&&(r=rr("date","short")),new Intl.DateTimeFormat(t,r)}),or=nr(e=>{var{locale:t,format:n}=e,r=Yn(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return n?r=rr("time",n):0===Object.keys(r).length&&(r=rr("time","short")),new Intl.DateTimeFormat(t,r)}),lr=nr((e,t=er())=>new Pn(e,t,Xn().formats,{ignoreTag:Xn().ignoreTag})),sr=(e,t={})=>{let n=t;"object"==typeof e&&(n=e,e=n.id);const{values:r,locale:i=er(),default:a}=n;if(null==i)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let o=Nn(e,i);if(o){if("string"!=typeof o)return console.warn(`[svelte-i18n] Message with id "${e}" must be of type "string", found: "${typeof o}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),o}else Xn().warnOnMissingMessages&&console.warn(`[svelte-i18n] The message "${e}" was not found in "${Qn(i).join('", "')}".${Bn(er())?"\n\nNote: there are at least one loader still registered to this locale that wasn't executed.":""}`),o=null!=a?a:e;if(!r)return o;let l=o;try{l=lr(o,i).format(r)}catch(t){console.warn(`[svelte-i18n] Message "${e}" has syntax error:`,t.message)}return l},cr=(e,t)=>((e={})=>{var{locale:t=er()}=e,n=Yn(e,["locale"]);return or(Object.assign({locale:t},n))})(t).format(e),ur=(e,t)=>((e={})=>{var{locale:t=er()}=e,n=Yn(e,["locale"]);return ar(Object.assign({locale:t},n))})(t).format(e),pr=(e,t)=>((e={})=>{var{locale:t=er()}=e,n=Yn(e,["locale"]);return ir(Object.assign({locale:t},n))})(t).format(e),hr=(e,t=er())=>Nn(e,t);Je([tr,Dn],()=>sr),Je([tr],()=>cr),Je([tr],()=>ur),Je([tr],()=>pr),Je([tr,Dn],()=>hr);var dr,fr={"Hello, world!":"你好，世界！"};jn("en",{"Hello, world!":"Hello, world!"}),jn("zh",fr),function(e){const{formats:t}=e,n=Yn(e,["formats"]),r=e.initialLocale||e.fallbackLocale;Object.assign(Vn,n,{initialLocale:r}),t&&("number"in t&&Object.assign(Vn.formats.number,t.number),"date"in t&&Object.assign(Vn.formats.date,t.date),"time"in t&&Object.assign(Vn.formats.time,t.time)),tr.set(r)}({fallbackLocale:"en",initialLocale:(dr="lang",("undefined"==typeof window?null:((e,t)=>{const n=e.split("&").find(e=>0===e.indexOf(t+"="));return n?n.split("=").pop():null})(window.location.search.substr(1),dr))||("undefined"==typeof window?null:window.navigator.language||window.navigator.languages[0])).split("-")[0]});return new class extends Q{constructor(e){super(),J(this,e,We,Xe,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle-v-412cb36.js.map
